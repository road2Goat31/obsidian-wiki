{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Willkommen in der Knowledgebase \ud83d\udcda","text":"<p>Diese Knowledgebase dient als zentrale Anlaufstelle f\u00fcr gesammeltes Wissen, Best Practices und praktische Anleitungen zu verschiedenen Technologien. Hier findest du strukturierte Informationen zu Themen wie:  </p> <p>\u2705 Ansible \u2013 Automatisierung und Konfigurationsmanagement leicht gemacht \u2705 Cisco \u2013 Netzwerktechnik, Router und Best Practices \u2705 Praktische \u00dcbungen \u2013 Hands-on Labs zur Vertiefung des Wissens \u2705 Vorlagen &amp; Best Practices \u2013 Standardisierte Templates und Empfehlungen  </p>"},{"location":"#warum-diese-knowledgebase","title":"Warum diese Knowledgebase?","text":"<p>\ud83d\udd39 Zentrale Wissenssammlung \u2013 Alle wichtigen Informationen an einem Ort \ud83d\udd39 Strukturierte Inhalte \u2013 Klare Kategorien und einfache Navigation \ud83d\udd39 Lernen &amp; Anwenden \u2013 Praxisnahe Beispiele und \u00dcbungen  </p>"},{"location":"#erste-schritte","title":"Erste Schritte \ud83d\ude80","text":"<p>Nutze die Navigation oder die Suchfunktion, um schnell relevante Inhalte zu finden. Falls du neue Themen oder Verbesserungen hast, bist du herzlich eingeladen, zur Knowledgebase beizutragen!  </p> <p>\ud83d\udca1 Pro-Tipp: Regelm\u00e4\u00dfig vorbeischauen \u2013 die Knowledgebase wird stetig erweitert!  </p>"},{"location":"#komentare","title":"Komentare","text":"<p>\ud83d\udccc Zur Dokumentation | \ud83d\udee0 GitHub Repository </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/1_Erl%C3%A4uterung%20zu%20Ansible/","title":"Erl\u00e4uterung zu Ansible","text":"<ul> <li> <p>Was ist Ansible?</p> <ul> <li>Ein Open-Source-Tool zur Automatisierung von IT-Umgebungen.</li> <li>Erm\u00f6glicht Konfigurationsmanagement, Softwarebereitstellung und Orchestrierung (nahtlose Zusammenarbeit von verschiedenen Prozessen u. Systemen).</li> </ul> </li> <li> <p>Warum Ansible?</p> <ul> <li>Agentenlos: Keine zus\u00e4tzliche Software n\u00f6tig; verbindet sich \u00fcber SSH (oder WinRM f\u00fcr Windows).</li> <li>Einfacher Syntax: Ansible-Playbooks basieren auf YAML, lesbar und gut dokumentierbar.</li> <li>Wiederholbarkeit ohne Ver\u00e4nderung: Aufgaben k\u00f6nnen wiederholt ausgef\u00fchrt werden, ohne unerw\u00fcnschte \u00c4nderungen.</li> </ul> </li> <li> <p>Was leistet Ansible?</p> <ul> <li>Automatisierung von Routineaufgaben: Spart Zeit und verringert Fehler.</li> <li>Skalierbarkeit: Kann auf hunderten oder tausenden Servern gleichzeitig ausgef\u00fchrt werden.</li> <li>Konfigurations- und Infrastrukturmanagement: Stellt sicher, dass Systeme immer im gew\u00fcnschten Zustand sind.</li> <li>Modularit\u00e4t: Bietet zahlreiche vorgefertigte Module f\u00fcr verschiedene Aufgaben (z. B. Paketinstallation, Benutzerverwaltung).</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/","title":"Playbooks","text":"<ul> <li> <p>sind Automatisierungsskripte in Ansible</p> </li> <li> <p>sind in YAML geschrieben</p> </li> <li> <p>enth\u00e4lt eine oder mehrere Plays, die auf Hosts ausgef\u00fchrt werden</p> </li> <li> <p>ein Play beschreibt Aufhaben (Tasks), welche auf bestimmten Hosts ausgef\u00fchrt werden</p> </li> <li> <p>erm\u00f6glichen die Automatisierung von IT-Aufgaben wie Installation, Konfiguration und Verwaltung</p> </li> <li> <p>k\u00f6nnen wiederverwendbar und strukturierbar erstellt werden, um eine konsistente Infrastruktur zu gew\u00e4hrleisten.</p> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#tasks","title":"Tasks","text":"<ul> <li>enth\u00e4lt eine oder mehrere Anweisungen, welche auf dem Remote-Host ausgef\u00fchrt werden sollen</li> </ul> <pre><code>- name: Installiere Apache \n  apt:                               # Modul wird aufgerufen\n    name: apache2                    # Apache2 installiert\n    state: present                   # aktuelle Verison\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#handlers","title":"Handlers","text":"<ul> <li>sind Aufgaben, die vorher durch andere Tasks aufgerufen (benachrichtigt)   werden --&gt; durch <code>notify:</code></li> </ul> <pre><code>- name: \u00c4ndere Konfigurationsdatei \n  template: \n  src: httpd.conf.j2 \n  dest: /etc/httpd.conf \n  notify: \n    - Starte Apache neu\n\nhandlers: \n  - name: Starte Apache neu\n    service:                        # Modul wird aufgerufen\n      name: apache2 \n      state: restarted\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#inventory","title":"Inventory","text":"<ul> <li> <p>beschreibt die Hosts und Gruppen von Hosts, auf denen Ansible Aufgaben ausf\u00fchrt</p> </li> <li> <p>kann als statische Datei (z. B. <code>hosts</code>-Datei) oder als dynamische Quelle (z. B. aus einer Cloud-Umgebung) vorliegen</p> </li> <li> <p>In einem statischen Inventory k\u00f6nnen Hosts direkt oder in Gruppen organisiert werden</p> </li> <li> <p>Gruppen erm\u00f6glichen es, Hosts zu kategorisieren (z. B. Webserver, Datenbank-Server)</p> </li> <li> <p>Variablen k\u00f6nnen auf Hosts oder Gruppen angewendet werden (mit <code>vars:</code>)</p> </li> </ul> <pre><code>all: \n  children:                 # damit werden Untergruppen gebildet\n    webservers:             # 1. Untergruppe\n      hosts: \n        web1.example.com:   # Hosts der ersten Untergruppe\n        web2.example.com:\n      vars: http_port:      # Variablen, die f\u00fcr alle Hosts der Gruppe \n        80 max_clients:     # \"webservers\" gelten\n        200 dbservers:\n\n      hosts: \n        db1.example.com: \n        db2.example.com: \n      vars: \n        db_port: 3306 \n        db_user: admin\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#rollen","title":"Rollen","text":"<ul> <li> <p>sind wiederverwendbare Einheiten in Ansible, die Aufgaben, Variablen, Dateien, Templates und Handlers gruppieren</p> </li> <li> <p>Bsp.: </p> </li> </ul> <pre><code>\u2514\u2500\u2500 roles\n\u00a0 \u00a0 \u251c\u2500\u2500 role1\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 defaults\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 files\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 file1\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 handlers\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 library\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 lookup_plugins\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 meta\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 module_utils\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 tasks\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 vars\n \u00a0\u00a0 \u2514\u2500\u2500 role2\n \u00a0\u00a0  \u00a0\u00a0 \u2514\u2500\u2500 tasks\n \u00a0\u00a0  \u00a0\u00a0     \u2514\u2500\u2500 main.yml\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#module","title":"Module","text":"<ul> <li> <p>sind die Bausteine in Ansible, die bestimmte Aufgaben auf Remote-Hosts ausf\u00fchren   (z. B. Pakete installieren, Dateien kopieren, Benutzer anlegen)</p> </li> <li> <p>f\u00fchrt eine spezifische Funktion aus und wird innerhalb eines Playbooks oder einer Rolle aufgerufen</p> </li> <li> <p>Beispiele: <code>apt</code>, <code>yum</code>, <code>copy</code>, <code>service</code>, <code>user</code></p> </li> </ul> <pre><code>- name: Installiere Apache \n  apt:                               # Modul wird aufgerufen\n    name: apache2                    # Apache2 installiert\n    state: present                   # aktuelle Verison\n</code></pre> <ul> <li>Alle Module und Informationen dazu: All modules \u2014 Ansible Documentation</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#plugins","title":"Plugins","text":"<ul> <li> <p>Plugins erweitern die Funktionalit\u00e4t von Ansible und erm\u00f6glichen die Integration zus\u00e4tzlicher Features oder Dienste</p> </li> <li> <p>Sie werden Systemweit oder mit im Projektverzeichnis gespeichert:</p> <ul> <li>Systemweit <code>/usr/share/ansible/plugins/</code></li> <li>im Projekt: `/plugins/<ul> <li>dann muss in der ansible.cfg darauf verwiesen werden  <code>plugin_paths = /path/to/custom/plugins</code></li> </ul> <li> <p>verschiedene Arten von Plugins:</p> <ul> <li>Connection Plugins (wie Ansible mit Remote-Systemen kommuniziert)</li> <li>Action Plugins</li> <li>Inventory Plugins</li> <li>...</li> </ul> </li> <li> <p>Alle vorhandenen Plugins und Informationen zu diesen: Using Ansible modules and plugins \u2014 Ansible Community Documentation</p> </li>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#variablen","title":"Variablen","text":"<ul> <li> <p>Definition: Variablen sind Platzhalter, die in Ansible verwendet werden, um dynamische Werte zu speichern und zu verwenden (z. B. f\u00fcr Hosts, Konfigurationen oder Passw\u00f6rter)</p> </li> <li> <p>Arten von Variablen:</p> <ul> <li>Host-Variablen: Spezifische Werte f\u00fcr einzelne Hosts im Inventory/host_vars-Verzeichnis</li> <li>Gruppen-Variablen: Werte, die f\u00fcr alle Hosts in einer Gruppe gelten (im group_vars-Verzeichnis)</li> <li>Playbook-Variablen: Variablen, die direkt in Playbooks definiert werden.</li> <li>Fakten (Facts): Automatisch ermittelte Systeminformationen, z. B. IP-Adressen oder Betriebssystemversionen.</li> <li>Einzelne Variablen: Zuweisung direkt in Playbooks oder Rollen.</li> </ul> </li> <li> <p>Zugriff: Variablen werden mit <code>{{ variable_name }}</code> innerhalb von Playbooks referenziert.</p> </li> <li> <p>Reihenfolge der Pr\u00e4zedenz: Ansible verwendet eine spezifische Reihenfolge, um Variablen aufzul\u00f6sen (z. B. Variable in Playbook \u00fcberschreibt Group-Variable).</p> </li> <li> <p>Verwendung: Erm\u00f6glicht Flexibilit\u00e4t und Wiederverwendbarkeit von Playbooks und Rollen.</p> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/2_Begriffe%20und%20Konzepte/#collections","title":"Collections","text":"<ul> <li> <p>Definition: Collections sind Sammlungen von Ansible-Inhalten, wie Modulen, Plugins, Rollen und Playbooks, die zusammen in einem Paket organisiert sind</p> </li> <li> <p>Zweck: Sie erm\u00f6glichen eine einfache Distribution und Wiederverwendung von Ansible-Inhalten</p> </li> <li> <p>Inhalt einer Collection:</p> <ul> <li>Module: Erweitern die Funktionalit\u00e4t von Ansible.</li> <li>Rollen: Bieten vordefinierte Automatisierungsaufgaben.</li> <li>Plugins: Erweiterungen f\u00fcr Verbindung, Filter, Lookup usw.</li> <li>Playbooks: Fertige Automatisierungsl\u00f6sungen.</li> </ul> </li> <li> <p>zur Installation und Verwendung siehe: Installation und Verwendung</p> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/3_Funktionsweise%20Ansible/","title":"Funktionsweise Ansible","text":"<ol> <li>Ansible-Command: Der Benutzer gibt einen Ansible-Befehl aus (z. B. ein Playbook).</li> <li>SSH-Verbindung: Ansible stellt eine SSH-Verbindung zu den Zielhosts her.</li> <li>Ausf\u00fchrung der Aufgaben: Ansible f\u00fchrt die Aufgaben im Playbook aus, indem es die entsprechenden Module verwendet.</li> <li>Ergebnis: Ansible gibt eine Zusammenfassung der Ergebnisse der ausgef\u00fchrten Aufgaben zur\u00fcck.</li> </ol>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/4_Beispiele%20und%20Tutorials/","title":"Windows","text":"<ul> <li>Jonathan Medd's Blog: Ansible, Windows and Powershell</li> <li>Ansible Blog: Using the win_dsc Module in Ansible</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/01_Grundlagen/4_Beispiele%20und%20Tutorials/#linux","title":"Linux","text":"<ul> <li>Getting started with Ansible 01 - Introduction (youtube.com)</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/02_Starten%20mit%20Ansible/Installation%20von%20Ansible/","title":"Install","text":"<ul> <li>Docs: install via pip</li> <li>Docs: install via packagemanager</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/02_Starten%20mit%20Ansible/Installation%20von%20Ansible/#rhel","title":"RHEL","text":"<ul> <li>Docs: Installing Ansible from EPEL</li> <li>How to Install Ansible on Rocky Linux 8 or Almalinux</li> <li>Ansible kann \u00fcber die EPEL-Repos bezogen werden</li> </ul> <pre><code>dnf install epel-release\n</code></pre> <ul> <li>GPG-Key f\u00fcr Fedora epel akzeptieren</li> </ul> <pre><code>dnf install ansible\n</code></pre> <ul> <li>Installation pr\u00fcfen</li> </ul> <pre><code>ansible --version\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/02_Starten%20mit%20Ansible/Installation%20von%20Ansible/#debian","title":"Debian","text":"<ul> <li>Docs: Installing Ansible on Debian</li> </ul> <pre><code>apt install ansible\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-dir/","title":"ansible-dir","text":"<pre><code>.\n\u251c\u2500\u2500 ansible.cfg\n\u251c\u2500\u2500 inventory\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 group_vars\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 group1.yml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 hosts.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 host_vars\n\u2502        \u2514\u2500\u2500 host1.yml\n\u251c\u2500\u2500 playbooks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 playbook1.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 playbook2.yml\n\u251c\u2500\u2500 plugins\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 plugin1\n\u2502\n\u2514\u2500\u2500 roles\n\u00a0 \u00a0 \u251c\u2500\u2500 role1\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 defaults\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 files\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 file1\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 handlers\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 library\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 lookup_plugins\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 meta\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 module_utils\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 tasks\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 vars\n \u00a0\u00a0 \u2514\u2500\u2500 role2\n \u00a0\u00a0  \u00a0\u00a0 \u2514\u2500\u2500 tasks\n \u00a0\u00a0  \u00a0\u00a0     \u2514\u2500\u2500 main.yml\n\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-doku/","title":"ansible-doku","text":"<p>Best Practices \u2014 Ansible Documentation</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-inventory/","title":"ansible-inventory","text":"<ul> <li>Ansible-Docs: How to build your inventory<ul> <li>Ansible-Docs: How to build your inventory - Organizing inventory in a directory</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-inventory/#inventory-ordner-anlegen","title":"Inventory-Ordner anlegen","text":"<p>Darin befindet sich: - hosts.yml - host_vars - group_vars</p> <pre><code>\u251c\u2500\u2500 inventory\n\u00a0\u00a0 \u251c\u2500\u2500 group_vars\n\u00a0\u00a0 \u251c\u2500\u2500 hosts.yml\n\u00a0\u00a0 \u2514\u2500\u2500 host_vars\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-inventory/#bennenung-der-dateien-in-der-host_vars","title":"Bennenung der Dateien in der <code>host_vars</code>","text":"<p>--&gt; die einzelnen Dateien der Hosts in den <code>host_vars</code> m\u00fcssen genauso hei\u00dfen, wie die Hosts in der hosts.yml-Datei benannt sind</p> <pre><code>\u251c\u2500\u2500 inventory\n\u00a0\u00a0 \u251c\u2500\u2500 group_vars\n\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 group1.yml\n\u00a0\u00a0 \u251c\u2500\u2500 hosts.yml\n\u00a0\u00a0 \u2514\u2500\u2500 host_vars\n       \u2514\u2500\u2500 host1.yml\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-inventory/#definition-des-inventory-pfades","title":"Definition des Inventory-Pfades","text":"<p>--&gt; in der ansible.cfg muss das vermerkt sein</p> <pre><code>inventory = ./inventory\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-inventory/#die-hostsyml","title":"die hosts.yml","text":"<pre><code>all:\n\u00a0 children:\n\u00a0 \u00a0 portswitch:\n\u00a0 \u00a0 \u00a0 hosts:\n\u00a0 \u00a0 \u00a0 \u00a0 KonsolenSwitch:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_host: 172.20.1.1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_user: adminmks\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_password: Install2024\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_connection: ssh\n\u00a0 \u00a0 ports:\n\u00a0 \u00a0 \u00a0 hosts:\n\u00a0 \u00a0 \u00a0 \u00a0 port1:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_host: 172.20.16.244\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 hostname: shd-x-1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_network_os: ios\n\u00a0 \u00a0 \u00a0 \u00a0 port2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_host: 172.20.16.245\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 hostname: shd-x-2\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_network_os: ios\n</code></pre> <ul> <li>Untergruppen mit <code>children:</code> anlegen</li> <li>Host spezifische Verbindungsvariablen definieren (alles andere in der host_vars) --&gt; Hostname m\u00fcsste in die host_vars beim Bsp.</li> <li>Variablen f\u00fcr die gnaze Gruppe k\u00f6nnen in der hosts.yml definiert werden (oder in der group_vars-Datei):</li> </ul> <pre><code>\u00a0 \u00a0 ports:\n\u00a0 \u00a0 \u00a0 hosts:\n\u00a0 \u00a0 \u00a0 vars:\n\u00a0 \u00a0 \u00a0 \u00a0 ansible_user: admin \u00a0# Benutzername f\u00fcr die Switches\n\u00a0 \u00a0 \u00a0 \u00a0 ansible_password: mkspasswort \u00a0# Passwort f\u00fcr die Switches\n\u00a0 \u00a0 \u00a0 \u00a0 ansible_connection: network_cli \u00a0# Verbindung f\u00fcr die Switches\n\u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 port1:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_host: 172.20.16.244\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 hostname: shd-x-1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ansible_network_os: ios\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/03_Best%20Practices/ansible-playbook/","title":"Playbooks-Ordner","text":"<p>-&gt; einen Playbooks-Ordner im Projektverzeichnis anlegen und die vorhandenen Playbooks darin ablegen</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/","title":"Quellen","text":"<ul> <li>GH: shadowman-lab/Ansible-PAH (Alex Dworjan)<ul> <li>GH: shadowman-lab/Ansible-PAH/blob/main/roles/build_creationee/defaults/main.yml</li> </ul> </li> <li>YT: Alex Dworjan on EEs<ul> <li>https://www.youtube.com/watch?v=6HG8VXxL7a4</li> </ul> </li> <li>Red Hat<ul> <li>RH: The anatomy of automation execution environments</li> <li>RH-Dev: How to create execution environments using ansible-builder</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#install","title":"Install","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#upstream","title":"upstream","text":"<ul> <li>als <code>pip</code> install wird immer das upstream-Paket bezogen</li> </ul> <pre><code>pip3 install ansible-builder\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#supported","title":"supported","text":"<ul> <li>installiert aus den offiziellen AAP-Repos<ul> <li><code>ansible-core</code></li> <li><code>ansible-builder</code></li> <li><code>ansible-navigator</code></li> </ul> </li> </ul> <pre><code>AAP_VERSION=2.4\nRHEL_VERSION=8\nsudo dnf install --enablerepo \"ansible-automation-platform-$AAP_VERSION-for-rhel-$RHEL_VERSION-x86_64-rpms\" ansible-core ansible-builder ansible-navigator -y\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#usage","title":"Usage","text":"<pre><code>ansible-builder &lt; build | create &gt;\n</code></pre> <ul> <li><code>build</code><ul> <li>erstellt Contextfiles wie z.B. <code>Containerfile</code></li> <li>anhand der execution environment specs</li> <li>baut im Anschluss das Image f\u00fcr die EE</li> </ul> </li> <li><code>create</code><ul> <li>erstellt Contextfiles wie z.B. <code>Containerfile</code></li> <li>anhand der execution environment specs</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#image-bauen","title":"Image bauen","text":"<pre><code>ansible-builder build -v3 -t ontap-ansible-ee:0.2\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#image-in-registry-pushen","title":"Image in Registry Pushen","text":"<ul> <li>Login f\u00fcr Container-Registry</li> </ul> <pre><code>podman login &lt;container_registry&gt;\n</code></pre> <ul> <li>Tag vergeben, wenn nicht durch <code>ansible-builder</code> schon geschehen</li> </ul> <pre><code>IMAGE_HASH=c3b4be733509\nVERSION_TAG=0.3\npodman push $IMAGE_HASH gitlab330.shd-online.de:5050/automation-engineering/ansible/execution-environments/ontap-ansible-ee:$VERSION_TAG\n# set latest\npodman push $IMAGE_HASH gitlab330.shd-online.de:5050/automation-engineering/ansible/execution-environments/ontap-ansible-ee:latest\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Builder/#ee-image-als-tar-fur-transfer","title":"EE-Image als tar f\u00fcr Transfer","text":"<pre><code>podman save --format=oci-archive -o ontap-ansible-ee-0.3.tar ontap-ansible-ee:0.3\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Config/","title":"Files","text":"<pre><code>/etc/ansible/\n\u251c\u2500\u2500 ansible.cfg     -&gt; default ansible Config\n\u251c\u2500\u2500 hosts           -&gt; default inventory-file for ansible\n\u2514\u2500\u2500 roles           -&gt; global roles for the system\n</code></pre> <ul> <li>globale Configs (bei Install \u00fcber Package-Manager)<ul> <li><code>/etc/ansible/ansible.cfg</code></li> </ul> </li> <li>projektspezifische Config<ul> <li><code>./ansible.cfg</code></li> <li>Ordner/File darf nicht world-writeable sein<ul> <li>max <code>775</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Config/#commands","title":"Commands","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Config/#informationen-ausgeben","title":"Informationen ausgeben","text":"<ul> <li>Version ausgeben</li> </ul> <pre><code>ansible-config --version\n</code></pre> <ul> <li>alle Configs ausgeben</li> </ul> <pre><code>ansible-config list\n</code></pre> <ul> <li>gesetzte Configs ausgeben</li> </ul> <pre><code>ansible-config dump\n</code></pre> <ul> <li>ge\u00e4ndert Configs ausgeben</li> </ul> <pre><code>ansible-config dump --changed-only\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Config/#config-erstellen","title":"Config erstellen","text":"<ul> <li>bootstrap <code>ansible.cfg</code></li> </ul> <pre><code>ansible-config init --disabled &gt; ./ansible.cfg\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Doc/","title":"Ansible-Doc","text":"<p>Mit Ansible-Doc kann man Dokumentationen zu Modulen direkt in der Kommandozeile abrufen</p> <pre><code>ansible-doc &lt;modul-name&gt;\n````\n\nAuflistung der Dokus zu allen vorhandenen Modulen:\n````\nansible-doc -l\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Galaxy/","title":"Ansible-Galaxy","text":"<ul> <li>Ist ein Bestandteil von Ansible</li> <li>mit diesem k\u00f6nnen von der Community vorgefertigte Rollen mit in das eigene Playbook eingebunden werden</li> </ul> <pre><code>ansible-galaxy install &lt;rollen-name&gt;\n</code></pre> <p>Man kann es auch nutzen, um sich eine vorgefertigte Rollenstruktur erstellen zu lassen:</p> <pre><code>ansible-galaxy init &lt;rollen-name&gt;\n</code></pre> <p>Ansible Galaxy - Roles</p> <p>User Guide - Galaxy NG</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Inventory/","title":"Ansible-Inventory","text":"<p>Das Inventory ist eine statische oder dynamische Textdatei/.yml-Datei in der alle Zielhosts verwaltet werden.</p> <p>Best Practice: ansible-inventory</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Inventory/#commands","title":"Commands","text":"<ul> <li>erkannte Hosts mit Vars ausgeben</li> </ul> <pre><code>ansible-inventory --list\n</code></pre> <ul> <li>Hosts in Graph-View<ul> <li><code>--vars</code><ul> <li>Variablen ebenfalls mit ausgeben</li> </ul> </li> </ul> </li> </ul> <pre><code>ansible-inventory --graph [--vars]\n</code></pre> <ul> <li>gesammelte <code>vars</code> zu einem Host ausgeben</li> </ul> <pre><code>ansible-inventory --vars --host &lt;host&gt;\n</code></pre> <ul> <li>ausf\u00fchrlichere Informationen zu einem Host</li> </ul> <pre><code>ansible -m debug -a \"var=hostvars['&lt;host&gt;']\" localhost\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Inventory/#mogliche-variablen","title":"M\u00f6gliche Variablen","text":"<pre><code>[defaults]\n# Pfad zur Inventar-Datei, die die Hosts definiert\ninventory = ./inventory\n\n# Standardbenutzer f\u00fcr Remote-Verbindungen\nremote_user = ansibleuser\n\n# Suchpfade f\u00fcr Rollen, erm\u00f6glicht Nutzung mehrerer Rollenverzeichnisse\nroles_path = ./roles:/etc/ansible/roles\n\n# Anzahl der gleichzeitigen Verbindungen (parallele Ausf\u00fchrungen)\nforks = 20\n\n# Aktiviert SSH-Pipelining f\u00fcr schnellere Ausf\u00fchrungen (ben\u00f6tigt \"requiretty\" auf Zielhosts deaktiviert)\npipelining = True\n\n# Pfad zur Logdatei, in die Ansible Ausgaben schreibt\nlog_path = /var/log/ansible.log\n\n# Deaktiviert die \u00dcberpr\u00fcfung von SSH-Host-Schl\u00fcsseln (nicht empfohlen f\u00fcr Produktionsumgebungen)\nhost_key_checking = False\n\n# Steuert das Sammeln von Fakten (Hardware- und Systeminformationen)\n# Optionen: implicit (Standard), explicit, smart\ngathering = smart\n\n# Bei Playbook-Fehlern keine Retry-Dateien erstellen\nretry_files_enabled = False\n\n# Bei aktiviertem Retry-Speicherort f\u00fcr Retry-Dateien angeben\nretry_files_save_path = /tmp/retry-files\n\n[ssh_connection]\n# Zus\u00e4tzliche SSH-Parameter, z. B. f\u00fcr schnellere Wiederverwendung der Verbindung\nssh_args = -o ControlMaster=auto -o ControlPersist=60s\n\n# Pfad f\u00fcr SSH-Control-Sockets, hilfreich bei langen Dateipfaden\ncontrol_path = /tmp/ansible-ssh-%%h-%%p-%%r\n\n# Maximale Verbindungszeit, bevor SSH die Verbindung abbricht\ntimeout = 30\n\n# Falls gesetzt, wird ein spezifischer SSH-Schl\u00fcssel verwendet\n# private_key_file = ~/.ssh/id_rsa\n\n# Kompressionsformat f\u00fcr Module bei der \u00dcbertragung (z. B. \"ZIP\" f\u00fcr Windows-Hosts)\nmodule_compression = ZIP\n\n# Definiert, ob \u00fcbersprungene Hosts in der Ausgabe erscheinen\ndisplay_skipped_hosts = False\n\n# Standardm\u00e4\u00dfige Verbose-Stufe f\u00fcr die Ausgabe (0-4, wobei 4 am ausf\u00fchrlichsten ist)\nverbosity = 2\n\n# Legt den Cache-Typ f\u00fcr das Zwischenspeichern von Fakten fest (z. B. \"jsonfile\" oder \"redis\")\nfact_caching = jsonfile\n\n# Speicherort f\u00fcr zwischengespeicherte Fakten, falls Caching aktiviert ist\nfact_caching_connection = /path/to/facts\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Lint/","title":"ansible-lint","text":"<ul> <li>Doku von Lint: ansible-lint</li> <li>Lint ist ein Werkzeug f\u00fcr:<ul> <li>\u00dcberpr\u00fcfung von Playbooks, Rollen und Tasks</li> <li>potentielle Fehlererkennung</li> <li>Verbesserung der Qualit\u00e4t und Lesbarkeit eines Ansible Projektes</li> <li>Sicherstellung von fehlerfreiem und wartbarem Code</li> </ul> </li> <li>wird durch das Ansible-Plugin f\u00fcr VSCode direkt unterst\u00fctzt<ul> <li>durch die Installation vom Ansible-Plugin wird automatisch auf Fehler hingewiesen</li> </ul> </li> <li>kann f\u00fcr CI/CD-Pipelines benutzt werden</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Lint/#install","title":"Install","text":"<pre><code>pip3 install --user ansible-lint\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Lint/#using","title":"Using","text":"<pre><code>ansible-lint --help\n</code></pre> <pre><code>ansible-lint &lt;playbook.yml&gt;\n</code></pre> <p>--&gt; gibt eine Liste an Verbesserungsvorschl\u00e4gen f\u00fcr das gesamte Playbook</p> <pre><code>ansible-lint roles/\n</code></pre> <p>--&gt; gibt eine Liste an Verbesserungsvorschl\u00e4gen f\u00fcr alle Rollen</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Lint/#erstellung-einer-ansible-lintyml","title":"Erstellung einer <code>.ansible-lint.yml</code>","text":"<ul> <li>In dieser k\u00f6nnen bestimmte Regeln bei der \u00dcberpr\u00fcfung ausgeschlossen werden</li> <li>eigene Regeln einbezogen werden</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Lint/#benutzerdefinierte-regeln","title":"benutzerdefinierte Regeln","text":"<ul> <li>eigenes Lint-Rege-Verzeichnis erstellen</li> <li>die Regeln als Python-Dateien darin ablegen<ul> <li>Beispiel von ChatGPT:</li> </ul> </li> </ul> <pre><code>from ansiblelint.rules import AnsibleLintRule \n\nclass CustomRule(AnsibleLintRule): \n\n    id = 'EXTRA001' \n    shortdesc = 'Custom rule to enforce something specific'\n    description = 'Detailed description of the rule' \n    tags = ['custom']\n\n    def matchtask(self, file, task): \n        return 'custom_key' in task\n</code></pre> <ul> <li>in der ansible-lint.yml darauf verweisen</li> </ul> <pre><code>rulesdir:\n    - ./custom_rules\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Navigator/","title":"Quellen","text":"<ul> <li>RH: Ansible Navigator Creator Guide</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Navigator/#zusammenfassung","title":"Zusammenfassung","text":"<p>Mit der Ansible Automation Platform (AAP) wurden Execution Environments (EEs) eingef\u00fchrt, um ben\u00f6tigte Abh\u00e4ngigkeiten innerhalb eines Containers zu kapseln.  ansible playbooks stellt keine M\u00f6glichkeit bereit, Playbooks innerhalb von EEs auszuf\u00fchren. An dieser Stelle setzt der Ansible-Navigator an und erm\u00f6glicht unter anderem die Ausf\u00fchrung von Playbooks innerhlab von EEs.</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Navigator/#config","title":"Config","text":"<ul> <li>Docs: ansible-navigator: general parameter</li> <li><code>./ansible-navigator.yml</code><ul> <li>projektweite Einstellungen</li> </ul> </li> <li><code>~/ansible-navigator.yml</code><ul> <li>user-weite Einstellungen</li> </ul> </li> <li><code>ANSIBLE_NAVIGATOR_CONFIG</code><ul> <li>Pfad zur Config via Environmentvariable</li> </ul> </li> </ul> <pre><code>---\nansible-navigator:\n  ansible:\n    inventory:\n      entries:\n        - hosts.yml\n  execution-environment:\n    container-engine: podman\n    enabled: true\n    image: registry.redhat.io/ansible-automation-platform-24/ee-supported-rhel8:latest\n  playbook-artifact:\n    enable: false\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Navigator/#commands","title":"Commands","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Navigator/#run","title":"run","text":"<ul> <li><code>run</code> entspricht <code>ansible-playbook</code> mithilfe einer EE</li> </ul> <pre><code>ansible-navigator run playbooks/select-aggregate.yml -m stdout --eei ontap-ansible-ee --tags aggregates --ask-vault-pass\n</code></pre> <ul> <li><code>-m (--mode) &lt;mode&gt;</code><ul> <li><code>stdout</code><ul> <li>interaktiver Modus <code>stdin</code> und <code>stdout</code> werden direkt auf die CLI \u00fcbertragen</li> <li>erm\u00f6glicht <code>--ask-vault-pass</code></li> </ul> </li> </ul> </li> <li><code>--eei (--execution-environment-image) &lt;ee_image&gt;</code><ul> <li>Ausf\u00fchren des Runs mit bestimmter EE</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Ansible-Vault/","title":"Ansible-Vault","text":"<p>Im Ansible-Vault k\u00f6nnen  Passw\u00f6rter und  Zertifikate in verschl\u00fcsselten Dateien gespeichert werden. </p> <p>Erstellen eines Vaults:</p> <pre><code>ansible-vault create secret_vars.yml\n</code></pre> <p>-&gt; Passwort f\u00fcr das entschl\u00fcsseln der Datei festlegen</p> <p>\u00c4ndern des Vault-PW:</p> <pre><code>ansible-vault rekey &lt;dateiname&gt;\n</code></pre> <p>Dann die Passwort-Variablen definieren:</p> <pre><code># secret_vars.yml\ndb_password: \"mein-geheimes-passwort\"\napi_key: \"super-geheimer-api-key\"\n</code></pre> <p>Vault editieren:</p> <pre><code>ansible-vault edit &lt;dateiname&gt;\n</code></pre> <p>Um ein Playbook mit enthaltenen Passw\u00f6rtern gegen Hosts zu fahren muss folgender Befehl benutzt werden:</p> <pre><code>ansible-playbook playbook.yml --ask-vault-pass\n</code></pre> <p>und anschlie\u00dfend das PW zum Vault eingegeben werden</p> <p>Man kann auch mit mehreren PW-Dateien arbeiten:</p> <pre><code>ansible-playbook playbook.yml --vault-id production@prompt --vault-id staging@prompt\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Wichtige%20Befehle/","title":"Wichtige Befehle","text":"Befehl Beschreibung ansible all --key-file ~/.ssh/ansible -i inventory -m ping Ping auf alle Ger\u00e4te im Inventory ansible all --list-hosts Alle Hosts auflisten ansible all -m gather_facts Daten von Hosts abrufen ansible all -m gather_ facts --limit {IP-Adresse} Datensammlung auf bestimmte Ger\u00e4te begrenzen ansible-playbook --ask-become-pass {Playbookname} Playbook gegen Knoten laufen lassen ansible-playbook --tags {Tag} --ask-become-pass {Playbookname} Aufgaben eines Playbooks mit bestimmten Tag gegen die Knoten laufen lassen ansible-playbook --list-tags {Playbookname} Tags eines Playbooks auflisten ansible all -m gather_ facts --limit {IP-Adresse} | grep ansible_dustribution Betriebssystem eines bestimmten Knotens"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/04_cli-tools/Wichtige%20Befehle/#parameter","title":"Parameter","text":"<ul> <li>Checkmode<ul> <li><code>-C</code><ul> <li>Aktionen nicht durchf\u00fchren</li> <li>geplante Aktion ausgeben</li> </ul> </li> </ul> </li> </ul> <pre><code>ansible -C -m file ...\n</code></pre> <ul> <li>Step<ul> <li><code>--step</code><ul> <li>zum Debugging f\u00fcr schrittweises durchgehen der Tasks</li> </ul> </li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/","title":"Playbooks","text":"<pre><code>---\n- name: My Playbook\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#playbooks-in-andere-playbooks-importieren","title":"Playbooks in andere Playbooks importieren","text":"<p>-&gt; dient dazu, dass am entscheiden kann, ob man alle Playbooks auf einmal oder nur einzelne laufen lassen m\u00f6chte</p> <p>-&gt; Playbook zum zusammenf\u00fchren</p> <pre><code>---\n# file: site.yml\n- import_playbook: webservers.yml\n- import_playbook: dbservers.yml\n</code></pre> <p>-&gt; einzelnes Playbook, welches Rollen aufruft</p> <pre><code>---\n# file: webservers.yml\n- hosts: webservers\n  roles:\n    - common\n    - webtier\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#jinja","title":"Jinja","text":"<ul> <li>via <code>{{ }}</code> gekennzeichnet</li> <li>Parameter in Modulen wechseln teilweise automatisch in den Jinja-Mode<ul> <li><code>{{ }}</code> nicht mehr notwendig</li> <li>z.B: assert</li> </ul> </li> <li>weiter Infos siehe jinja-templating</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#limit","title":"limit","text":"<ul> <li><code>-l</code> Ausf\u00fchrung auf Hosts oder Gruppen beschr\u00e4nken</li> <li><code>default(omit)</code><ul> <li>wenn var nicht gesetzt ist, wird die Zeile auskommentiert</li> <li>n\u00fctzlich um versehentliches Ausf\u00fchren auf allen Nodes im Inventory zu verhindern</li> </ul> </li> </ul> <pre><code>hosts: \"{{ ansible_limit | default(omit) }}\"\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#tasks","title":"Tasks","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#name","title":"name","text":"<ul> <li>beschreibt normale Tasks in einem Play</li> <li>innerhalb \"normaler\" Tasks werden Modules verwendet</li> </ul> <pre><code>- name: Some Task\n  ...\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#set_fact","title":"set_fact","text":"<ul> <li>definieren eigener Variablen direkt im Play</li> </ul> <pre><code>- set_fact:\n  new_var_foo: \"my_new_entry\"\n  new_var_bar: \"{{ \"abc\" | replace(\"a\",\"c\") }}\"\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#pause","title":"pause","text":"<ul> <li>unterbricht die Ausf\u00fchrung eines Plays<ul> <li>kann zum interaktiven Abfragen via prompt genutzt werden</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#fail","title":"fail","text":"<ul> <li>Abbruch des Playbooks<ul> <li>in Kombination mit <code>when</code></li> </ul> </li> </ul> <pre><code>- fail:\n  msg: \"Some Message\"\n  when: \n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#assert","title":"assert","text":"<ul> <li>validieren von gegebenen Variablen<ul> <li><code>Fail</code> f\u00fcr Play wenn Test fehlschl\u00e4gt</li> <li>gibt explizit fehlgeschlagenen Task aus</li> </ul> </li> </ul> <pre><code>- assert:\n  that:\n    - some_var is defined\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#modules","title":"Modules","text":"<ul> <li>werden innerhalb eines Tasks verwendet</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#assert_1","title":"assert","text":"<ul> <li>validieren von gegebenen Variablen<ul> <li><code>Fail</code> f\u00fcr Task wenn Test fehlschl\u00e4gt (wenn in Task verwendet)</li> <li>gibt explizit fehlgeschlagenen Task aus</li> </ul> </li> </ul> <pre><code>- name: Task with assertions\n  ...\n  assert:\n    that:\n      - some_var is defined\n      - some_var | int &lt; 1000\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#debug","title":"debug","text":"<ul> <li>verboses Ausgeben von Variablen</li> </ul> <pre><code>- name: Debug Task\n  debug:\n    var: vars\n    # Ausgeben, wenn -vv\n    verbosity: 2\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#pause_1","title":"pause","text":"<ul> <li>Ausf\u00fchrung des Tasks pausieren</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#include_tasks","title":"include_tasks","text":"<ul> <li>Tasks aus externer <code>YML</code> laden</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20playbooks/#tags","title":"Tags","text":"<ul> <li>im task k\u00f6nnen <code>Tags</code> vergeben werden<ul> <li>(auf Task-Ebene)</li> </ul> </li> </ul> <pre><code>- name: Some Task\n  tags: &lt;some_tag&gt;\n</code></pre> <ul> <li>Ausf\u00fchren nur bestimmter Tags</li> </ul> <pre><code>ansible-playbook --tags &lt;tag&gt; [, &lt;tag&gt;]\n</code></pre> <ul> <li>Auslassen bestimmter Tags</li> </ul> <p>``` ansible-playbook --skip-tags  [, ]"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20roles/","title":"neue role erstellen","text":"<ul> <li>neue Ordnerstruktur f\u00fcr Ansible-Role mit ansible-galaxy erstellen</li> </ul> <pre><code>ansible-galaxy init test_role\n</code></pre> <ul> <li>filestructure of an initialized role-repo</li> </ul> <pre><code>test_role/\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 defaults\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 files\n\u251c\u2500\u2500 handlers\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 meta\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 tasks\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 templates\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 inventory\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test.yml\n\u2514\u2500\u2500 vars\n    \u2514\u2500\u2500 main.yml\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/ansible%20roles/#linux-supported-roles","title":"Linux Supported Roles","text":"<ul> <li>https://linux-system-roles.github.io/</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Collections/Installation%20und%20Verwendung/","title":"Installation einer Collection","text":"<pre><code>ansible-galaxy collection install &lt;namespace&gt;.&lt;collection_name&gt;\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Collections/Installation%20und%20Verwendung/#verwendung-einer-collection","title":"Verwendung einer Collection","text":"<pre><code>- name: Verwende Modul aus einer Collection\n  my_namespace.my_collection.my_module:\n    param: value\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible-win-desired-state-configuration/","title":"Desired State Configuration","text":"<ul> <li>Powershell DSC ist ein in Windows intergrierte Konfigurations-Management-Platform.</li> <li>Desired State Configuration overview for decision makers</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible-win-desired-state-configuration/#ansible","title":"Ansible","text":"<ul> <li>Ansible Docs: Windows DSC</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/command/","title":"Docs","text":"<ul> <li>https://docs.ansible.com/ansible/latest/collections/ansible/builtin/command_module.html</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/command/#usage","title":"Usage","text":"<pre><code>- name: MyTask\n  command:\n    cmd: /some/command\n    chdir: /some/dir        -&gt; change dir before invoking command\n    creates: /some/file     -&gt; tests if file exists, aborts task when found (test before removes)\n    removes: /some/file     -&gt; tests if file exists, run task when found\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/command/#parameter","title":"Parameter","text":"<ul> <li><code>chdir</code><ul> <li>change dir before invoking command</li> </ul> </li> <li><code>creates</code><ul> <li>tests if file exists (test before removes)</li> <li>aborts task when found</li> </ul> </li> <li><code>removes</code><ul> <li>tests if file exists</li> <li>run task when found</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/copy/","title":"copy","text":"<ul> <li>dient dem kopieren von Dateien</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/copy/#datei-kopieren","title":"Datei kopieren","text":"<pre><code>- name: Kopiere eine Datei auf den Remote-Host \n  copy: \n    src: /path/to/local/file.txt \n    dest: /path/to/remote/file.txt\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/copy/#inhalt-in-eine-datei-kopieren","title":"Inhalt in eine Datei kopieren","text":"<pre><code>- name: Schreibe Inhalt in eine Datei \n  copy: \n    content: \"Dies ist eine Beispiel-Konfiguration.\" \n    dest: /path/to/remote/config.txt\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/copy/#mit-berechtigungen-und-eigentumer-linux","title":"Mit Berechtigungen und Eigent\u00fcmer (Linux)","text":"<pre><code>- name: Kopiere eine Datei mit speziellen Berechtigungen\n  copy:\n    src: /path/to/local/file.txt\n    dest: /path/to/remote/file.txt\n    owner: root\n    group: root\n    mode: '0644'\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/debug/","title":"ansible.builtin.debug","text":"<ul> <li>Docs: ansible.buildin.debug</li> <li>lets you output <code>variables</code>, <code>ansible_facts</code> on execution of Playbooks</li> <li>good in conjuntion with the task_parameter <code>when</code></li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/debug/#task-output","title":"task output","text":"<ul> <li>use the task_parameter <code>register</code> to save the output of a task into a variable<ul> <li>Docs: Registring variables</li> </ul> </li> <li>reference the stored variable in the module_parameter <code>var</code> or <code>msg</code> of <code>register</code></li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/debug/#single-variable","title":"single variable","text":"<ul> <li>can be used to print the content of a single variable</li> </ul> <pre><code>- name: GetOS\n  hosts: all\n  tasks:\n    - name: Get OS from ansible_facts\n      debug:\n        var: ansible_facts['os_family']\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/debug/#multiple-variables","title":"multiple variables","text":"<ul> <li>bundled under the parameter <code>msg</code> several variables can be composed</li> </ul> <pre><code>- name: GetInfos\n  hosts: all\n  tasks:\n    - name: Get information about the OS\n      debug:\n        msg: \n          Host: \"{{ inventory_hostname }}\"\n          OS: \"{{ ansible_facts['os_family'] }}\"\n          Architecture: \"{{ ansible_facts['architecture'] }}\"\n</code></pre> <ul> <li>alternatively in one line</li> </ul> <pre><code>- name: GetInfos\n  hosts: all\n  tasks:\n    - name: Get information about the OS\n      debug:\n        msg: \"{{ inventory_hostname }} has {{ ansible_facts['os_family'] }} as OS and works on an {{ ansible_facts['architecture'] }} architecture.\"\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/quote/","title":"Docs","text":"<ul> <li>https://docs.ansible.com/ansible/latest/collections/ansible/builtin/quote_filter.html</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/quote/#explanation","title":"Explanation","text":"<ul> <li>pipes a variable through Python's <code>shlex.quote</code> to protect against user-given input</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/quote/#usage","title":"Usage","text":"<pre><code>{{ some_string_variable | quote }}\n</code></pre> <pre><code>{{ some_string_variable | ansible.builtin.quote }}\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/05_Komponenten/Module/ansible.builtin/shell/","title":"Docs","text":"<ul> <li>Docs: ansible.builtin.shell</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Ansible%20Forms/","title":"1 Docker installieren","text":"<p>https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Ansible%20Forms/#2-ansible-forms-installieren","title":"2 Ansible Forms installieren","text":"<p>https://ansibleforms.com/installation/</p> <p>--&gt; Achtung: podman-compose mit pip3 install installieren</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20Docker%20unter%20Ubuntu/","title":"Docker und Docker-Compose installieren","text":"<pre><code># Add Docker's official GPG key:\nsudo apt-get update\nsudo apt-get install ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n\n# Add the repository to Apt sources:\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\") stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\nsudo apt-get update\n</code></pre> <pre><code>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre> <p>Quelle: (Ubuntu | Docker Docs)</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20Docker%20unter%20Ubuntu/#semaphore-container-erstellen","title":"Semaphore-Container erstellen","text":"<p>Docker-Datei erstellen:</p> <pre><code>nano docker-compose.yml\n</code></pre> <p>folgendes Einf\u00fcgen und ggf. editieren:</p> <pre><code>services:\n  # uncomment this section and comment out the mysql section to use postgres instead of mysql\n  #postgres:\n    #restart: unless-stopped\n    #image: postgres:14\n    #hostname: postgres\n    #volumes: \n    #  - semaphore-postgres:/var/lib/postgresql/data\n    #environment:\n    #  POSTGRES_USER: semaphore\n    #  POSTGRES_PASSWORD: semaphore\n    #  POSTGRES_DB: semaphore\n  # if you wish to use postgres, comment the mysql service section below \n  mysql:\n    restart: unless-stopped\n    image: mysql:8.0\n    hostname: mysql\n    volumes:\n      - semaphore-mysql:/var/lib/mysql\n    environment:\n      MYSQL_RANDOM_ROOT_PASSWORD: 'yes'\n      MYSQL_DATABASE: semaphore\n      MYSQL_USER: semaphore\n      MYSQL_PASSWORD: semaphore\n  semaphore:\n    restart: unless-stopped\n    ports:\n      - 3000:3000\n    image: semaphoreui/semaphore:latest\n    environment:\n      SEMAPHORE_DB_USER: semaphore\n      SEMAPHORE_DB_PASS: semaphore\n      SEMAPHORE_DB_HOST: mysql # for postgres, change to: postgres\n      SEMAPHORE_DB_PORT: 3306 # change to 5432 for postgres\n      SEMAPHORE_DB_DIALECT: mysql # for postgres, change to: postgres\n      SEMAPHORE_DB: semaphore\n      SEMAPHORE_PLAYBOOK_PATH: /tmp/semaphore/\n      SEMAPHORE_ADMIN_PASSWORD: changeme\n      SEMAPHORE_ADMIN_NAME: admin\n      SEMAPHORE_ADMIN_EMAIL: admin@localhost\n      SEMAPHORE_ADMIN: admin\n      SEMAPHORE_ACCESS_KEY_ENCRYPTION: gs72mPntFATGJs9qK0pQ0rKtfidlexiMjYCH9gWKhTU=\n      SEMAPHORE_LDAP_ACTIVATED: 'no' # if you wish to use ldap, set to: 'yes' \n      SEMAPHORE_LDAP_HOST: dc01.local.example.com\n      SEMAPHORE_LDAP_PORT: '636'\n      SEMAPHORE_LDAP_NEEDTLS: 'yes'\n      SEMAPHORE_LDAP_DN_BIND: 'uid=bind_user,cn=users,cn=accounts,dc=local,dc=shiftsystems,dc=net'\n      SEMAPHORE_LDAP_PASSWORD: 'ldap_bind_account_password'\n      SEMAPHORE_LDAP_DN_SEARCH: 'dc=local,dc=example,dc=com'\n      SEMAPHORE_LDAP_SEARCH_FILTER: \"(\\u0026(uid=%s)(memberOf=cn=ipausers,cn=groups,cn=accounts,dc=local,dc=example,dc=com))\"\n      TZ: UTC\n    depends_on:\n      - mysql # for postgres, change to: postgres\nvolumes:\n  semaphore-mysql: # to use postgres, switch to: semaphore-postgres\n</code></pre> <p>Docker-Container starten:</p> <pre><code>docker-compose up\n</code></pre> <p>Quelle: Installation - Semaphore Docs</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20Docker%20unter%20Ubuntu/#semaphore-web-gui","title":"Semaphore Web-GUI","text":"<p>Das Web-GUI wird unter {Hostanmen}:3000 erreicht</p> <p>Folgende Eingabemaske erscheint im Browser: </p> <p>--&gt; mit den in der \"docker-compose.yml\" definierten Credentials einloggen</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20Docker%20unter%20Ubuntu/#repository-einbinden","title":"Repository einbinden","text":"<p>--&gt; Projekt anlegen</p> <ol> <li>im Register \"Schl\u00fcsselspeicher\" den privaten Key und die Passphrase hinterlegen</li> <li>den \u00f6ffentlichen Schl\u00fcssel im GitLab hinterlegen (Einstellungen/SSH Keys/)</li> <li>im Register \"Repository\" das Repository mittel SSH-Adresse (git@gitlab330.shd-online.de:{User}/{Repository-Name}) + vorher hinterlegtem Schl\u00fcssel anlegen</li> </ol> <p></p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20Docker%20unter%20Ubuntu/#playbooks-abspielen","title":"Playbooks abspielen","text":"<ol> <li>Inventar-Datei im Register \"Inventar\" hinterlegen -&gt; Datei aus dem Repository nutzen</li> <li>Im Register \"Aufgabenvorlagen\" eine neue Aufgabe erstellen (Ansible Playbook)</li> <li>In der Aufgabe auf das Playbook im Repository verweisen sowie das Inventory angeben</li> <li>den Button \"Abspielen\" bet\u00e4tigen</li> </ol>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/06_GUI/Semaphore/Semaphore%20mit%20apt/","title":"Installation","text":"<p>sudo adduser --system --group --home /home/semaphore semaphore</p> <p>sudo apt install mariadb-server</p> <p>sudo mysql_secure_installation</p> <pre><code>    kein root passwort eingeben\n    unix_socket authentication: no\n    Change root password: mkspasswort\n    remove anonymous users: yes\n    disallow root login remotely: yes\n    remove test database: yes\n    reload the priviledge table: yes\n</code></pre> <p>sudo mariadb     CREATE DATABASE semaphore_db;     GRANT ALL PRIVILIDGES ON semaphore_db.* TO semaphore_user@localhost IDENTIFIED ' mkspasswort';     FLUSH PRIVILEGES</p> <p>wget https://github.com/semaphoreui/semaphore/releases/download/v2.10.30/semaphore_2.10.30_linux_amd64.deb</p> <p>sudo apt install ./semaphore_2.10.30_linux_amd64.deb</p> <p>semaphore setup:</p> <pre><code>default database\nno Hostname\ndb USER: semaphore_user\nPasswort: mkspasswort\ndb Name: semaphore_db\nPlaybook Path: /home/maik/ansible\nno url\nno email alerts\n ... no\nConfig output directory:\n/etc/semaphore/semaphore_config_output\n</code></pre> <p><code>sudo chown semaphore:semaphore config.json</code></p> <p><code>sudo mkdir /etc/semaphore</code></p> <p><code>sudo chown semaphore:semaphore /etc/semaphore</code></p> <p><code>sudo mv config.json /etc/semaphore</code></p> <p><code>semaphore server --config /etc/semaphore/config.json</code></p> <p>--&gt; Server ist unter dem Link erreichbar Semaphore UI  --&gt; aber nur so lange wie man den Befehl auf der CLI ausf\u00fchrt</p> <p>--&gt; deshalb wird ein Semaphore.service erstellt, der es im Hintergrund laufen l\u00e4sst</p> <p><code>sudo nano /etc/systemd/system/semaphore.service</code></p> <pre><code>[Unit]\nDescription=Ansible Semaphore\nDocumentation=htpps://docs.ansible-semaphore.com/\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nType=Simple\nExecStart=/usr/bin/semaphore server --config /etc/semaphore/config.json\nExecReload=/bin/kill -HUP $MAINPID\nRestart=always\nRestart=10s\nUser=semaphore\nGroup=semaphore\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p><code>sudo systemctl daemon-reload</code></p> <p><code>systemctl status semaphore.service</code></p> <p><code>sudo systemctl enable semaphore.service</code></p> <p><code>sudo systemctl start semaphore.service</code></p> <p>--&gt; Semaphore GUI ist \u00fcber die IP-Adresse verf\u00fcgbar (\u00fcber den Port 3000)</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/Dev-Tools/","title":"Testing","text":"<ul> <li>molecule<ul> <li>\"Molecule provides support for testing with multiple instances, operating systems and distributions, virtualization providers, test frameworks and testing scenarios.\"</li> <li>\"Molecule encourages an approach that results in consistently developed roles that are well-written, easily understood and maintained.\"</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/Priviledged%20User%20Linux/","title":"Priviledged User Linux","text":"<p>Wenn erh\u00f6hte Berechtigungen ben\u00f6tigt werden, wird das Element  <code>become=true</code> benutzt.</p> <p>--&gt; Kann man auf Playbook-Ebene oder Task-Ebene anwenden --&gt; in der .cfg-Datei kann es auch Global mit <code>become_user=[UserName]</code> gesetzt werden</p> <p>Dem User Sudo-Rechte geben:</p> <p>Sudoers-Datei unter ansible/files ablegen</p> <p>ODER:</p> <pre><code>---\n- name: Service User hinzuf\u00fcgen und Gruppe setzen\n  hosts: all\n  become: true\n  tasks:\n    - name: F\u00fcge den Service User \"serviceuser\" hinzu\n      ansible.builtin.user:\n        name: serviceuser\n        shell: /sbin/nologin\n        system: yes\n        create_home: no\n        state: present\n        groups: servicegroup   # F\u00fcgt den Benutzer der Gruppe \"servicegroup\" hinzu\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/","title":"Infos","text":"<ul> <li>Ansible: Credentials</li> <li>Red Hat: Hardening SSH connections to managed hosts with Red Hat Ansible Automation Platform</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#srv-ansible","title":"srv-ansible","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#create-user","title":"create user","text":"<ul> <li>service-user on remotes (also used for <code>become</code>)</li> </ul> <pre><code>useradd srv-ansible\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#grant-sudo","title":"grant sudo","text":"<pre><code>echo '%srv-ansible ALL=(ALL:ALL) ALL' &gt; /etc/sudoers.d/srv-ansible\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#pam_ssh_agent_auth","title":"pam_ssh_agent_auth","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#target","title":"Target","text":"<ul> <li><code>sudo -i</code> via ssh-agent for ansibles (used by directive <code>become: true</code>)<ul> <li>user <code>root</code> can't be used by ansible for authentication against the system</li> <li><code>ask_pass</code> can't be used in an interactive manner</li> </ul> </li> <li>there is the pam-module <code>pam_ssh_agent_auth</code> which allows auth via ssh-agent</li> <li>should provide secure priviledge escalation for ansible</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#install","title":"install","text":"<ul> <li>install module</li> </ul> <pre><code>dnf install -y pam_ssh_agent_auth\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#sudo-via-ssh-agent","title":"sudo via ssh-agent","text":"<ul> <li>enable <code>sudo</code> via <code>ssh-agent</code> (ForwardAgent)</li> <li>allow auth with key from specific user<ul> <li><code>~svc-ansible/</code> user-pinning who is able to use his set keys for <code>sudo</code></li> </ul> </li> <li><code>/etc/pam.d/sudo</code><ul> <li>problem: active ssh-agent needed</li> </ul> </li> </ul> <pre><code>auth       sufficient   pam_ssh_agent_auth.so file=/root/.ssh/authorized_keys\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/ansible-become-priviledge-escalation/#allow-root-login","title":"allow root-login","text":"<ul> <li><code>/etc/pam.d/sshd</code><ul> <li>problem: this is only for direct root-login<ul> <li>same as planting the key in <code>/root/.ssh/authorized_keys</code></li> </ul> </li> </ul> </li> </ul> <pre><code>auth       sufficient   pam_ssh_agent_auth.so file=/root/.ssh/super_authorized_key\n</code></pre> <p>Wenn erh\u00f6hte Berechtigungen ben\u00f6tigt werden, wird das Element  <code>become=true</code> benutzt.</p> <ul> <li>Kann man auf Playbook-Ebene oder Task-Ebene anwenden</li> <li>in der .cfg-Datei kann es auch Global mit <code>become_user=[UserName]</code> gesetzt werden</li> </ul> <p>Dem User Sudo-Rechte geben: Die Sudoers-Datei mit einer Task bearbeiten</p> <pre><code>\n</code></pre> <p>Sudoers-Datei unter ansible/files ablegen</p> <p>ODER:</p> <pre><code>---\n- name: Service User hinzuf\u00fcgen und Gruppe setzen\n  hosts: all\n  become: true\n  tasks:\n    - name: F\u00fcge den Service User \"serviceuser\" hinzu\n      ansible.builtin.user:\n        name: serviceuser\n        shell: /sbin/nologin\n        system: yes\n        create_home: no\n        state: present\n        groups: servicegroup   # F\u00fcgt den Benutzer der Gruppe \"servicegroup\" hinzu\n\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/","title":"Jinja","text":"<ul> <li>verwendete Jinja-Version ausgeben via<ul> <li><code>ansible --version</code></li> </ul> </li> <li>erm\u00f6glicht das Verwenden von Platzhaltern<ul> <li><code>{{ some_name }}</code></li> </ul> </li> <li>semantische Ersetzungen werden rekursiv in der gesamten Datei gesucht</li> </ul> <p>Warning: Folgendes f\u00fchrt zu Endlosschleife</p> <pre><code>a = {{ b + 'foo' }}\nb = {{ a + 'bar' }}\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#filter","title":"Filter","text":"<ul> <li>Filter k\u00f6nnen via <code>|</code> auf Variable angewendet werden</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#default","title":"default","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#value","title":"value","text":"<ul> <li>Jinja: default</li> <li><code>{{ var | default('default_value') }}</code><ul> <li>setzt Wert, wenn:<ul> <li>Variable nicht gesetzt ist</li> </ul> </li> <li>gilt nicht f\u00fcr leere Variablen e.g. <code>\"\"</code></li> </ul> </li> <li><code>{{ var | default('default_value', true) }}</code><ul> <li>setzt Wert, wenn:<ul> <li>Variable nicht gesetzt</li> <li>Variable validiert zu <code>false</code> (z.B. leerer String)</li> </ul> </li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#empty-list","title":"empty list","text":"<ul> <li>wenn f\u00fcr einen Host z.B. keine Liste an Daten f\u00fcr einen Eintrag hinterlegt ist<ul> <li>z.B. <code>vars_list</code> als <code>var</code> f\u00fcr Host erwartet aber nicht vorhanden</li> </ul> </li> </ul> <pre><code>vars_list:\n  - foo\n  - bar\n</code></pre> <ul> <li><code>{{ vars_list | default([]) }}</code><ul> <li>gibt leere Liste zur\u00fcck</li> <li>damit werden keine Tasks ausgef\u00fchrt</li> <li>vermeidet ein Fail wegen falschem Datentyp (<code>List != None</code>)</li> </ul> </li> </ul> <pre><code>- name: Some Task\n  ...\n  loop: \"{{ vars_list | default([]) }}\"\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#flatten","title":"flatten","text":"<ul> <li>geschachtelte Listen in einfach Liste \u00fcberf\u00fchren</li> <li><code>{{ [a, b, [c, d], e] | flatten }} =&gt; [a, b, c, d, e]</code></li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#subelements","title":"subelements","text":"<ul> <li>verschachtelte Listen werden auf eine Ebene gedr\u00fcckt<ul> <li>es ist pro Task nur ein Schleifendurchgang angedacht</li> </ul> </li> <li>Elementzugriff \u00fcber<ul> <li><code>item[0]</code><ul> <li>f\u00fcr \u00e4u\u00dfere Schleife</li> </ul> </li> <li><code>item[1]</code><ul> <li>f\u00fcr innere Schleife</li> </ul> </li> <li><code>item[0]</code> und <code>item[1]</code> werden je Schleifendurchlauf wiederholt</li> </ul> </li> </ul> <pre><code>array:\n    - name: foo_1\n      property: value\n      elements:\n        - name: bar_1_1\n        - name: bar_1_2\n    - name: foo_2\n      property: value\n      elements:\n        - name: bar_2_1\n        - name: bar_2_2\n    # gets filtered out by skip_missing\n    - name: foo_no_elements\n</code></pre> <ul> <li>Anwendung in Task</li> </ul> <pre><code>- name: Nested Loop Task\n  some_module:\n    #                == foo_1\n    parameter_1: \"{{ item[0].name }}\"\n    #                == bar_1_1\n    parameter_2: \"{{ item[1].name }}\"\n  loop: {{ array | subelements('elements', {'skip_missing': true}) | default([]) }}\n</code></pre>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/jinja-templating/#selectattr","title":"selectattr","text":"<ul> <li>Subelement aus Liste herausziehen</li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/Wissen/07_%20Sonstiges/potentielle-probleme/","title":"vars","text":"<ul> <li>es passiert h\u00e4ufiger, dass zum Beispiel Entwickler von neuen Modulen Variablen f\u00fcr sich beanspruchen<ul> <li>hier muss auf potentielle Konflikte geachtet werden</li> </ul> </li> </ul>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Aufgabe_Switch/","title":"Aufgabe_Switch","text":"<p>Python3 installiert? PIP installiert?</p> <ol> <li>git installieren</li> <li>Ansible installieren -&gt; sudo pip3 install --user ansible --break-system-packages</li> <li>tio installieren sudo apt install tio</li> <li>expect installieren pip install expect</li> <li>pip install pexpect</li> </ol> <p>Zielstellung:</p> <ul> <li>von einem Rasbperry Pi mit Ansible ein Playbook ausf\u00fchren</li> <li>dieses soll einen Switch (befindet sich im Werkszustand) konfigurieren</li> <li>es m\u00fcssen mehrere Ports auf dem KVM-Switch betrachtet werden</li> <li>unterschiedliche Hostnamen vergeben werden</li> </ul> <p>Screen: strg-a d -&gt; trennen, strg a K --&gt; beenden</p> <p>Zu l\u00f6sende Probleme:</p> <ol> <li>wie wird der Switch am Anfang angesprochen (noch kein SSH m\u00f6glich) --&gt; SSH wird auf dem Switch per Python-Skript konfiguriert</li> <li>unterschiedliche Hostnamen vergeben (keinen Doppelt) --&gt; mehrere Skripte anlegen, in denen jeweils der richtige serielle Port aufgerufen wird </li> <li>Kommunikation \u00fcber SSH erm\u00f6glichen     --&gt; IP-Adresse vergeben, Nutzer anlegen, SSH aktivieren und SSH-Key erstellen </li> <li> <p>Konfigurationen sollen eventuell unterschiedlich sein     --&gt; jeder Port bekommt eine einzelne Rolle -&gt; an jedem Port(somit auch Switch, der daran angeschlossen ist) k\u00f6nnen dann unterschiedliche Konfigurationen vorgenommen werden</p> </li> <li> <p>Erstellte running-config auf dem Pi speichern     --&gt; vordefinierten Ordner erstellen     Beispiel Cisco-Switch:     </p> </li> </ol> <p>Ablauf:</p> <ol> <li>ansible verbindet sich mit Konsolen Server und meldet sich an    --&gt; sudo apt-get install sshpass wird ben\u00f6tigt    --&gt; labterm.lab.shd-online muss in der known_hosts-Datei sein</li> <li>screen session er\u00f6ffnen (connect-port12)</li> <li>python skrip anlaufen lassen</li> </ol> <p>ansible_user=user ansible_password=netlog</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/","title":"Quelle","text":"<p>Getting started with Ansible 01 - Introduction (youtube.com)</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#umgebung","title":"Umgebung","text":"<p>VMs:  - MKS-AnsibleHost (maik/mkspasswort) - MKS-DebianServer1 (maik/mkspasswort, root/sudopasswort) - MKS-DebianServer2 (maik/mkspasswort, root/sudopasswort) - MKS-DebianServer3 (maik/mkspasswort, root/sudopasswort)</p> <p>Was wird ben\u00f6tigt? - SSH-Client auf dem Ansible-Host - SSH-Server auf dem Server - Ansible-Host und Server m\u00fcssen sich gegenseitig erreichen - Git - PIP - Ansible</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#ssh-keys-erstellen","title":"SSH-Keys erstellen","text":"<p>--&gt; Per SSH mit dem Ger\u00e4t verbinden --&gt; SSH Key pair erstellten     <code>ssh-keygen -t ed25519 -C \"maik default\"</code>     passphrase: mkspasswort  --&gt; Passphrase wird empfohlen     <code>ls -la .ssh</code>  --&gt; Directory mit den Keys anzeigen     <code>cat .ssh/id_ed25519.pub</code>  --&gt; \u00f6ffentlichen Key anzeigen lassen</p> <p>--&gt; SSH Key auf den Servern kopieren     <code>ssh-copy-id -i ~/.ssh/id_ed25519.pub 172.20.17.2</code> <code>ssh-copy-id -i ~/.ssh/id_ed25519.pub 172.20.17.3</code> <code>ssh-copy-id -i ~/.ssh/id_ed25519.pub 172.20.17.4</code> </p> <p>--&gt; Ansible SSH-Key erstellen     <code>ssh-keygen -t ed25519 -C \"ansible\"</code> <code>enter file: /home/maik/.ssh/ansible</code> <code>no passphrase</code></p> <p>--&gt; auf jeden Host den Ansible-Key kopieren</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#git-installieren","title":"Git installieren","text":"<p>Git-Repository angelegt Settings -&gt; SSH Key ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBgQN6EAAHFF1yik69+edToGgeu5SuHnEcEZqTxidcwf maik default</p> <p>Auf AnsibleHost:</p> <p><code>apt install git</code></p> <p><code>git clone git@github.com:{username}/{repository name}</code></p> <p>--&gt; z.B. README.md \u00e4ndern</p> <p><code>git diff README.md</code> -&gt; alle \u00c4nderungen sehen</p> <p><code>git add README.add</code></p> <p><code>git status</code> -&gt; alle ge\u00e4nderten Dateien werden angezeigt</p> <p><code>git commit -m \"in readme geschrieben\"</code> --&gt; wird f\u00fcr das pushen vom Server vorbereitet </p> <p><code>git push</code></p> <p><code>history</code> -&gt; alle eingegeben Befehle nachsehen</p> <pre><code>Installation von Ansible\n</code></pre> <p>PIP installieren:  <code>sudo apt install python3-pip</code> How to Install Python Pip on Ubuntu 22.04 | Linuxize</p> <p><code>python3 -pip install --user ansible</code></p> <p></p> <p>--&gt; da im Userkontext heruntergeladen -&gt; Skript nicht in der CLI verf\u00fcgbar PATH gesetzt: <code>export PATH=/home/maik/.local/bin:$PATH</code> Quelle </p> <p>--&gt; dann ist \"ansible\" verf\u00fcgbar zur Verwendung</p> <p>--&gt; In das Repository wechseln --&gt; <code>cd ansible/</code> <code>nano inventory</code> --&gt; Hosts eintragen</p> <p></p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#ad-hoc-commands","title":"Ad-hoc-Commands","text":"<p><code>ansible all --key-file ~/.ssh/ansible -i inventory -m ping</code></p> <p>--&gt; -m = module --&gt; -i = Inventory</p> <p></p> <p>Config-Datei anlegen:</p> <p><code>/ansible$ nano ansible.cfg</code> </p> <p>Ad-Hoc-Command konnte gek\u00fcrzt werden </p> <p>Alle Hosts auflisten: </p> <p>Informationen f\u00fcr Hosts abrufen:</p> <p></p> <p>Bei Ad-hoc-Befehlen, welche \u00c4nderungen hervorrufen wird die sudo-Berechtigung ben\u00f6tigt</p> <p>--&gt; <code>ansible all -m apt -a update_cache=true --become --ask-become-pass</code> =APT-Cache aktualisieren --&gt; funktioniert nur, wenn auf jedem Knoten das gleiche Sudo-Passwort vergeben wurde</p> <p>--&gt; zum Sudo machen: \u00fcber Benutzerverwaltung und einen Systemverwalter erstellen oder <code>sudo usermod -aG {username}</code></p> <p>Im folgenden wird man dazu aufgerufen das sudo-Passwort einzugeben </p> <p>mehr zum APT Modul: Hier</p> <p>Auf allen Knoten vim-nox installieren:</p> <p>\"-a\" steht f\u00fcr Argument </p> <p>Wenn man es noch einmal eingibt, dann kommt die Meldung, dass keine \u00c4nderung vorgenommen wurde, da es schon installiert ist </p> <p>neueste Version eines Paketes installieren: </p> <p>Alle Pakete upgraden: </p> <p>hw_dungeonisle12a_h_en_173 (youtube.com)</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#playbooks","title":"Playbooks","text":"<p>--&gt; bei Playbooks wird eine Abfolge von Aufgaben abgearbeitet</p> <p></p> <ul> <li>.yml-Dateiformat</li> </ul> <p>Ausf\u00fchrung des Befehls: </p> <p>Playbook: Repository Update, Apache und PHP installieren  Playbook: Apache und PHP l\u00f6schen </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#when-conditional-fehlerbehandlung","title":"When-Conditional --&gt; Fehlerbehandlung","text":"<p>--&gt; Gather_facts wird davor ben\u00f6tigt </p> <p></p> <p>ODER</p> <p></p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#playbooks-verbessern","title":"Playbooks verbessern","text":"<p>--&gt; mehrere Pakete in eine Aufgabe </p> <p>--&gt; Option update_cache mit in die Aufgabe reinnehmen </p> <p>Variablen benutzen: --&gt; Package als generischen Paketmanager</p> <p> Variablen in der Inventory-Datei definieren: </p> <p>Inventory gruppieren:</p> <p></p> <p>Aufgaben nur auf bestimmte Hostgruppen anwenden: </p> <p>pre_tasks --&gt; pre_tasks werden als erstes ausgef\u00fchrt </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#tags","title":"Tags","text":"<p>--&gt; dient dazu nur bestimmte Aufgaben gegen die Knoten laufen zu lassen</p> <p> Tags eines Playbooks abfragen: </p> <p>Abfragen mit Tags:  Mehrere Tags: </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#dateien-mit-ansible-managen","title":"Dateien mit Ansible managen","text":"<p>--&gt; Files-Ordner erstellt </p> <p>--&gt; Datei in dem Ordner \"Files\" erstellen</p> <p>--&gt;Im Playbook das Modul \"copy\" benutzen:</p> <p>mode: Berechtigung, welche vergeben wird</p> <p>--&gt; Kopieren einer Datei aus dem Internet: </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#dienste-mit-ansible-managen","title":"Dienste mit Ansible managen","text":"<p>--&gt; einen Dienst starten und dauerhaft laufen lassen</p> <p></p> <p>--&gt; Zeile in Conf-Datei \u00e4ndern und Dienst neustarten  mit \u00dcberpr\u00fcfung, ob \"apache2\" \u00fcberhaupt ge\u00e4ndert wurde</p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#nutzer-hinzufugen-und-bootstrapping","title":"Nutzer hinzuf\u00fcgen und Bootstrapping","text":"<p>Mudul \"user\" wird genutzt: </p> <p>SSH-Key hinzuf\u00fcgen und Nutzer Sudo-Rechte geben  unter /Files abgelegte Datei: </p> <p>--&gt; direkt einloggen mit User --&gt; ansible.cfg bearbeiten </p> <p>Funktioniert jetzt ohne Login: --&gt; da User Simone Sudo-Rechte besitzt </p> <p>Bei einem neu aufgesetzten Server notwendige Konfigurationen vornehmen (User anlegen, Sudo-Rechte vergeben und SSH-Key hinterlegen)  --&gt; Bootstrap-Datei</p> <p></p> <p>Danach kann man die boot.yml ohne Passwort ausf\u00fchren </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#rollen","title":"Rollen","text":"<p>--&gt; Rollen dienen dazu Playbooks \u00fcbersichtlich zu halten --&gt; Ordnerstruktur angelegt - Rollen-Ordner - In dem Rollen-Ordner ein Files-, Tasks und Handlers-Ordner - in der boot.yml wird auf die Rollen verlinkt</p> <p></p> <p>--&gt; Verlinkung auf die Rollen </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#variablen-und-handler","title":"Variablen und Handler","text":""},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#variablen","title":"Variablen","text":"<p>--&gt; einen \"host_vars\"-Ordner anlegen  --&gt; f\u00fcr jeden Host eine Datei, wo die Variablen definiert werden  --&gt; Dateien entweder wie IP-Adresse oder DNS-Name benennen  </p> <p>Definieren der Variablen: </p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#handler","title":"Handler","text":"<p>Ein Handler wird aufgerufen, wenn die Task davor eine \u00c4nderung hervorgerufen hat</p> <p>--&gt; \"handlers\"-Ordner hinzuf\u00fcgen --&gt; darin eine main.yml-Datei --&gt;in der Task-Datei der Rolle auf den Handler verweisen </p> <p></p> <p>--&gt; Die main.yml</p> <p></p>"},{"location":"Knowledgebase/1_Technologien/Ansible/praktische_Uebungen/Beispiel_Testumgebung/#templates","title":"Templates","text":"<p>--&gt; \"Templates\"-Ordner unter \"/ansible/roles/base/\" anlegen</p> <p>--&gt; SSH-Config-Datei des Systems (Debian-Host) auf den Ansible-Host kopieren und unter \"/Templates\" ablegen</p> <p></p> <p>--&gt; Variable in die SSH-Config-Datei schreiben </p> <p>--&gt; Variablen in die Variablen-Datei (im Ordner \"host_vars\" zu finden) der einzelnen Hosts schreiben am Bsp. des Hosts 172.20.17.2 --&gt; muss f\u00fcr alle 3 Hosts gemacht werden </p> <p>--&gt; in der Datei unter \"/ansible/roles/base/tasks/main.yml\" eine weitere Aufgabe einf\u00fcgen </p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Grundlegend/","title":"Grundlegend","text":"<p>Frame-Forwarding-Methoden - Store-and-Forward-Switchung     - speichert den gesamten Frame und \u00fcberpr\u00fcft auf Fehler -&gt; CRC(Cycling Redundancy Check) = Pr\u00fcfsumme     - wenn kein Fehler vorhanden, dann wird es weitergeleitet     - wenn Fehler, dann wird Paket verworfen     - wird f\u00fcr QoS ben\u00f6tigt - Cut-Through-Switching     - leitet schon weiter, obwohl noch nicht der gesamte Frame da ist     - Fast-Forward-Switching -&gt; leitet sofort weiter     - Fragment-Free-Switching -&gt; speichert die ersten 64 bytes und \u00fcberpr\u00fcft auf Fehler</p> <p>Speicherung - Port-Based-Speicher -&gt; Frames mit Port verlinkt gespeichert - Shared Memory -&gt; speichert alle Frame sin einen Speicher, ports sind dynamisch verlinkt</p> <p>Automatisch Ausgehandelt - Speed (10/100/1000 Mbps) - Half-/Fullduplex</p> <p>Gigabit Ethernet ports funktionieren nur in Fullduplex</p> <p></p> <pre><code>enable\ndisable\nconfigure terminal (conf)\nexit -&gt; aus conf raus\nend\n\n? -&gt; help\n</code></pre> <p></p> <p>Ger\u00e4teinformationen </p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/1_Basiskonfigurationen/","title":"Basiskonfigurationen","text":"<p><code>configure Terminal</code> <code>hostname {Hostanme}</code> <code>enable secret class</code>     --&gt; Login mit Authentifizierung <code>line console 0</code> <code>password {Passwort}</code> <code>login</code> <code>exit</code> <code>line vty 0 4</code>                 --&gt; 5 virtuelle Interfaces \u00f6ffnen / bei neueren sind es 16 <code>password {Passwort}</code> <code>login</code> <code>transport input {ssh | telnet | none | all}</code> <code>exit</code> <code>service password-encryption</code>  --&gt; Verschl\u00fcsselung des Passworts</p> <p>Erstellen eines Banners:</p> <p><code>banner motd #Nur authorisierter Zugriff!#</code></p> <p>Konfiguration Speichern</p> <p><code>copy running-config startup-config</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/2_Zugriff%20absichern/","title":"Zugriff absichern","text":"<p>Unautorisierten Zugriff \u00fcber den Konsolenport:</p> <pre><code>Switch(config)# line console 0\nSwitch(config-line)# password {password}\nSwitch(config-line)# login\n</code></pre> <p>\u00dcber SSH/Telnet</p> <pre><code>Switch(config)# line vty 0 15\nSwitch(config-line)# password password\nSwitch(config-line)# transport input {ssh | telnet | none | all}\nSwitch(config-line)# login\n</code></pre> <p>PW verschl\u00fcsseln: <code>service password-encryption</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/3_SSH/","title":"SSH","text":"<p>SSH support verifizieren: <code>show ip ssh</code></p> <p>IP-Domain festlegen: <code>ip domain-name {Dom\u00e4nennamen}</code></p> <p>RSA Schl\u00fcsselpaar erstellen:</p> <pre><code>crypto key generate rsa\nmodulus 1024\nusername {Benutzername} secret {Passwort}\nline vty 0 15\ntransport input ssh\nlogin local\nexit\n\nip ssh version 2\n</code></pre> <p>RSA-Schl\u00fcssel l\u00f6schen: <code>crypto key zeroize rsa</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/4_Interface%20konfigurieren/","title":"Interface konfigurieren","text":"<p><code>configure terminal</code> <code>interface gigabitethernet 0/0/0</code> <code>ip address {IP-Aderesse} {Subentmaske}</code> <code>ipv6 address {IPv6-Adresse}</code> <code>ip default-gateway {IP-Aderesse}</code> <code>describtion {Beschreibung}</code> <code>no shutdown</code> <code>exit</code></p> <p>Loopback Interface</p> <p><code>configure Terminal</code> <code>interface loopback {loopback Nummer}</code> <code>ip address {IP-Adresse} {Subnetmaske}</code></p> <p>Interface \u00fcberpr\u00fcfen</p> <p><code>show ip interface brief</code> <code>show ipv6 interface brief</code></p> <p><code>show running-config interface {interface}</code></p> <p><code>show ip route</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/5_DHCP/","title":"DHCP","text":"Schritt Aktion DHCP Discover Broadcast in das Netz (Suche nach DHCP-Servern) DHCP Offer Ein oder mehrere Server antworten mit IP-Adressen DHCP Request Host sucht sich eine IP-Adresse aus und sendet Best\u00e4tigung an                                                 Server DHCP Acknnowledgment Server sendet Best\u00e4tigung mit allen Daten (IP, DNS usw.) zur\u00fcck <p><code>ip dhcp excluded-address {kleine Adresse} {h\u00f6chste Adresse}</code> -&gt; Die vom Router ausschlie\u00dfen</p> <p><code>ip dhcp pool {Pool Name}</code></p> <p><code>network {IP-Adresse} {Subnetmaske}</code> <code>default-router {IP-Adresse Routr}</code> <code>dns-server {IP-Adresse DNS Server}</code> <code>domain-name {Dom\u00e4nenname}</code> <code>end</code></p> <p>Konfiguration \u00fcberpr\u00fcfen</p> <p><code>show running-config | section dhcp</code></p> <p>IP-Adresse f\u00fcr bestimmte MAC-Adresse reservieren</p> <p><code>show ip dhcp binding</code></p> <p><code>ip dhcp excluded-address 192.168.1.10</code> </p> <p><code>ip dhcp pool CLIENT_10</code> <code>host 192.168.1.10 255.255.255.0</code> <code>client-identifier 0100.3412.1b0c.19</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/Grundlegend/","title":"Grundlegend","text":"<p>VRDP (Virtual Router Redundancy Protocol)</p> <p>Ziel: Redundante Gateways  -&gt; eine virtuelle IP-Adresse die mit den 2 Gateway-IP-Adressen der Router verkn\u00fcpft sind  -&gt; \u00fcber Heartbeat wird \u00fcberpr\u00fcft, ob Gateway 1 aktiv ist (wenn nicht werden Pakete \u00fcber vIP an Gateway 2 gesendet)</p> <p>Cisco Nachbarger\u00e4te anzeigen</p> <p><code>show cdp neighbours</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Router/Troubleshooting/","title":"Troubleshooting","text":""},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/1_Inital%20Settings/","title":"Inital Settings","text":"<p>Mode Button: zwischen den verschiedenen Status-Modi wechseln</p> <p>Status LEDs: SYST: - Gr\u00fcn: alles funktioniert - Orange: Som, aber irgend etwas funktioniert nicht richtig - Aus: Kein Strom</p> <p>RPS: Redundant Power System - Aus: RPS ist aus - Gr\u00fcn: RPS funktioniert und kann redundant Strom liefern - blinkt gr\u00fcn: RPS ist an, aber kann keinen redundanten Strom liefern, da anderes Ger\u00e4t damit beliefert wird - orange: Standby oder Fehler  - blinkt Orange: interne Stromversorgung hat versagt und RPS liefert Strom</p> <p>STAT: - aus: kein Link - gr\u00fcn: Link vorhanden - blinkt gr\u00fcn: Netzwerkaktivit\u00e4t vorhanden - orange: Port ist blockiert zum \u00dcberpr\u00fcfen, dass kein Loop vorhanden ist - blinkt orange: blockiert, um m\u00f6gliche Loop zu unterbinden</p> <p>DUPLEX: - aus: Halb-Duplex - gr\u00fcn: duplex mode aktiviert</p> <p>SPEED: - aus: 10 Mbps - gr\u00fcn: 100 Mbps - blinkt gr\u00fcn: 1000 Mbps</p> <p>PoE: - aus: PoE nicht aktiviert - blinkt orange: PoE nicht aktiviert, aber ein Ger\u00e4t ben\u00f6tigt PoE - gr\u00fcn: PoE ist aktiviert - Port aus: PoE aus - Port gr\u00fcn: PoE an - Port gr\u00fcn und orange: PoE wurde verhindert, da sonst die Gesamtkapazit\u00e4t des Switches \u00fcberladen ist - Port blinkt orange: PoE ist aus aufgrund eine Fehlers - Port orange: PoE wurde f\u00fcr Port ausgeschaltet</p> <p>Nach Systemcrash: 1. PC per Kabel anschlie\u00dfen 2. Stromkabel ziehen 3. Strom wieder anstecken und innerhalb von 15s den Mode-Button gedr\u00fcckt halten 4. gedr\u00fcckt halten bis es erst gr\u00fcn und dann orange geleuchtet hat 5. Terminal bedienen -&gt; dir flash: OS boot-Datei ausw\u00e4hlen 6. Boot=flash:{Boot-Datei}    set    boot</p> <p>Boot: boot system flash:/{flash device}/{OS_file_name}</p> <p></p> <p>Management-Zugriff Alle Ports sind standardm\u00e4\u00dfig dem VLAN 1 zugeordnet. Es wird empfohlen ein anderes VLAN f\u00fcr das Management des Switches zu nutzen, z.B. VLAN 99</p> <p><code>configure terminal</code>interface vlan 99 <code>ip address {IP-adresse} {Subnetmaske}</code>(ipv6 address {IPv6-Adresse}) <code>no shutdown</code>end ``copy running-config startup-config</p> <p>Default Gateway:</p> <p><code>configure Terminal</code>ip default-gateway {ip-adresse} <code>end</code>copy running-config startup-config</p> <p>Konfiguration verifizieren:</p> <p>``show ip interface brief</p> <p>Sonstige Commands:</p> <p><code>no ip address</code></p> <p><code>default interface fa0/1</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/2_Gesicherter%20Zugriff%20%28SSH%29/","title":"Gesicherter Zugriff (SSH)","text":"<p><code>show ip ssh</code>           -&gt; \u00fcberpr\u00fcfen, ob Ger\u00e4t SSH-f\u00e4hig ist</p> <p><code>ip domain name {Dom\u00e4ne}</code></p> <p><code>crypto key generate rsa</code> -&gt; 1024</p> <p><code>username {Nutzername} seceret {Passwort}</code></p> <p>VTY Lines:</p> <p>-&gt; sind virtuelle Interafaces und legen fest, wie viele Admins gleichzeit per SSH auf den Switch zugreifen k\u00f6nnen</p> <p><code>line vty 0 15</code>     -&gt; alle 16 Kan\u00e4le offen <code>transport input ssh</code> <code>login local</code>         -&gt; lokale Authentifikation erforderlich machen  <code>exit</code></p> <p>SSH Version 2:</p> <p><code>ip ssh version 2</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/3_VLAN/","title":"VLAN","text":"<p>Interface ein VLAN zuornden</p> <p><code>configure Terminal</code> <code>vlan10</code> <code>name {Name vom VLAN}</code> <code>end</code></p> <p><code>configure Terminal</code> <code>interface fa0/2</code> <code>switchport mode {access/trunk}</code> <code>switchport access vlan 10</code> <code>end</code></p> <p><code>show vlan summary</code></p> <p><code>show vlan brief</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/4_PortChannel%20%28LAG%29/","title":"PortChannel (LAG)","text":"<p>Mehrere Ports zu einem logischen Port zusammenfassen</p> <p>LACP oder PAgPals Protokoll</p> <p>Konfigurieren</p> <p><code>configure Terminal</code> <code>interface range fa0/1-3    -&gt; oder andere Range</code> <code>channel-group 1 mode active</code> <code>exit</code> <code>interface group-channel 1</code> <code>switchport mode {access/trunk}</code> <code>end</code></p> <p>\u00dcberpr\u00fcfen</p> <p><code>show interfaces port-channel 1</code></p> <p><code>show etherchannel summary</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/5_%28R%29STP/","title":"(R)STP","text":"<p>Das Spanning Tree Protocol ist daf\u00fcr zust\u00e4ndig loops in LANs zu verhindern bzw. diese zu erkennen und zu unterbinden. Loops k\u00f6nnen durch redundante Netzwerkverbindungen entstehen.</p> <p>Loops k\u00f6nnen durch folgende Frames entstehen durch: - Unknown Unicasts - Broadcasts - Multicasts</p> <p>\u00dcbersicht: <code>show spanning-tree interface\u00a0{interface-id}\u00a0detail</code></p> <p>BPDUs -&gt; Bridge Protcol Data Units = zum Austausch von Informationen \u00fcber die Netzwerktopologie</p> <p> </p> <p>RSTP auf einem Cisco Switch:  </p> <ul> <li>Je niedriger die Bridge ID, desto wahrscheinlicher ist der Root-Bridge-Status</li> <li>Root-Ports sind die, die die wenigsten Kosten zur Root-Bridge verursachen</li> <li>Edge-Ports sind die, die mit einem End-Ger\u00e4t verbunden sind</li> <li>Die Ports an der Root-Bridge sind alle Designated</li> <li>Alternate-Ports sind f\u00fcr Traffic ausgeschalten -&gt; wenn die Hauptroute ausf\u00e4llt, werden sie angeschaltet</li> </ul> <p>STP-Probleme l\u00f6sen:</p> <ul> <li> <p>**BPDU-Guard -&gt; loops von unautorisierten Switchen vermeiden</p> <ul> <li>bei Access-Ports</li> <li>Ports connected zu Server oder Virtualisierung-Hosts</li> <li>ist meistens aktiviert, wenn PortsFast aktiviert ist</li> <li>Global: <code>spanning-tree portfast bpduguard enable</code></li> <li>Interface: <code>spanning-tree bpduguard enable</code></li> </ul> </li> <li> <p>**Root Guard</p> <ul> <li>verhindert ungewollte Root-Bridge \u00c4nderung</li> <li>der Root \u00fcberwacht die BPDUs und wenn diese eine bessere BID enthalten, wird der Port abgeschaltet</li> <li>wenn der andere Switch aufh\u00f6rt sich als Root zu bewerben wird der Port wieder angeschaltet</li> <li>Switch zum Root machen: <code>spanning-tree vlan 1 root primary</code></li> <li>Root-Guard aktivieren: <code>**spanning-tree\u00a0guard\u00a0root**</code></li> <li>\u00fcberpr\u00fcfen: <code>show spanning-tree root</code></li> </ul> </li> </ul> <p>Unn\u00f6tiger BPDU-Traffic: - BPDU Filter an Access-Ports -&gt; BPDUs werden nicht an end devices weitergeleitet - an Access-Ports verwendet - Global: <code>spanning-tree portfast bpdufilter enable</code> - Interface: <code>spanning-tree bpdufilter enable</code></p> <p>Loops durch besch\u00e4digte Verbindungen  - loop Guard - verhindert, dass alternate Ports oder root Ports  bei Punkt-zu-Punkt-Verbindungen designated Ports werden wegen Link failures - Ein unidirektionaler Verbindungsfehler kann dazu f\u00fchren, dass ein Switch keine Bridge Protocol Data Units (BPDUs) mehr von seinem Nachbarn auf dieser Verbindung empf\u00e4ngt. Wenn der Switch weiterhin Datenverkehr aus dem betroffenen Port weiterleitet, ohne BPDUs zu empfangen, kann er unbeabsichtigt eine Netzwerkschleife erstellen - sollte auf allen Switchen-zu-Switch-Verbindungen aktiviert sein - Global: <code>spanning-tree loopguard default</code> - Interface: <code>spanning-tree guard loop</code></p> <p>STP auf Accessports ausschalten - PortFast -&gt; Pakete werden direkt forwarded     - Global: <code>spanning-tree portfast default</code> -&gt; PortFast an allen Access-Ports     - Interface: <code>spanning-tree portfast</code></p>"},{"location":"Knowledgebase/1_Technologien/Cisco/Switch/6_Security/","title":"Security","text":"<p>Alle ungenutzten Ports deaktivieren</p> <p><code>configure Terminal</code> <code>interface range fa0/8 - 24</code> <code>shutdown</code></p> <p>Port-Security: - Begrenzung der MAC-Adressen pro Port - Schutz vor MAC-Flooding - Automatische Abschaltung bei Verst\u00f6\u00dfen</p> <p><code>configure terminal</code> <code>interface fa0/5</code> <code>switchport port-security</code> <code>switchport mode access</code> <code>switchport port security</code> <code>end</code></p> <p><code>show port-security interface fa0/5</code></p> <p>Maximale MAC-Adress-Anzahl</p> <p><code>configure terminal</code> <code>interface fa0/5</code> <code>switchport port-security maximum</code></p> <p>Einzelne MAC-Adressen</p> <p><code>configure terminal</code> <code>interface fa0/5</code> <code>switchport port-security mac-address {MAC-Adresse}</code></p> <p>Dynamisch gelernt - sticky</p> <p>--&gt; MAC-Adressen werden automatisch zur startup-config hinzugef\u00fcgt und nach einem          reboot nicht vergessen</p> <p><code>configure terminal</code> <code>interface fa0/5</code> <code>switchport port-security mac-address sticky</code></p> <p>Port Security Aging</p> <p>DIe MAC-Adressen werden nach einer festgelegten Zeit gel\u00f6scht --&gt; ungenutzte Adressen belegen nicht dauerhaft den Speicher --&gt; n\u00fctzlich bei hoher Anzahl an dynamischen Ger\u00e4ten</p> <p>Es gibt zwei Arten von Aging:</p> <ol> <li> <p>Absolute Aging: Hier wird eine MAC-Adresse nach einem festgelegten Zeitraum (z. B. 5 Minuten) unabh\u00e4ngig von ihrer Aktivit\u00e4t entfernt.</p> </li> <li> <p>Inactivity Aging: Hier wird die MAC-Adresse nur entfernt, wenn sie f\u00fcr einen bestimmten Zeitraum inaktiv ist.</p> </li> </ol> <p><code>configue terminal</code> <code>interface fa0/5</code> <code>switchport port-security aging {static / time (Zeit in min) / type (absolute/inactivity)}</code> <code>end</code></p> <p>Port Security Violation Mode</p> <p><code>configure terminal</code> <code>interface fa0/5</code> <code>switchport port-security violation {protect / restrict / shutdown}</code></p> Violation Mode Verwift Traffic? Sendet Syslog? Erh\u00f6ht Counter? Schaltet Port aus? Protect Ja Nein Nein Nein Restrict Ja Ja Ja Nein Shutdown Ja Ja Ja Ja <p>VLAN angriffe verhindern</p> <ol> <li>bei allen nicht trunk ports switch mode access</li> <li>nicht genutzte Ports deaktivieren und ungenutztem VLAN zuordnen</li> <li>nur die n\u00f6tigen als Trunkports nutzen</li> <li>Auto negotiations ausschalten bei trunkports <code>switchport nonegotiate</code></li> <li>natives VLAN nicht bei 1 lassen <code>switchport trunk native vlan 999</code></li> </ol> <p>DHCP Attacken verhindern</p> <p><code>configure terminal</code> <code>ip dhcp snooping (rate 10)  --&gt; maximal 10 DHCP-Nachrichten pro Sekunde</code> <code>exit</code></p> <p><code>ip dhcp snooping vlan 10,20,30-49</code></p> <p><code>show ip dhcp snooping</code></p> <p>ARP Angriffe verhindern</p> <p>--&gt; es wird DHCP snooping ben\u00f6tigt</p> <p><code>ip dhcp snooping</code> <code>ip dhcp snooping vlan 10</code> <code>ip arp inspection vlan 10</code> <code>interface fa0/5</code> <code>ip dhcp snooping trust</code>  --&gt; Ausnahme f\u00fcr Interface <code>ip arp inspection trust</code></p> <p>Spanning-tree Angriffe verhindern</p> <p>-&gt; Portfast nicht zwischen Switches erlauben, ansonsten k\u00f6nnen loops entstehen</p> <p><code>configure terminal</code> <code>switchport mode access</code> <code>spanning-tree portfast</code> <code>exit</code></p> <p><code>spanning-tree portfast default</code>     --&gt; Portfast Global aktivieren <code>exit</code></p> <p>--&gt; BPDU Guard</p> <p><code>configure terminal</code> <code>spanning-tree bpduguard enable</code> <code>exit</code></p> <p><code>configure terminal</code> <code>spanning-tree portfast bpduguard default</code> <code>end</code></p>"},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/","title":"IPv6-Adresstypen","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#aufbau-einer-ipv6-adresse","title":"Aufbau einer IPv6-Adresse","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#arten-von-unicast-adressen","title":"Arten von Unicast-Adressen","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#ipv6-multicast-adressen","title":"IPv6 Multicast-Adressen","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#ipv6-adresszuweisung-statisch-vs-dynamisch","title":"IPv6-Adresszuweisung: Statisch vs. Dynamisch","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#ipv6-adresszuordnung","title":"IPv6-Adresszuordnung","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#wann-wird-welche-ipv6-adresse-verwendet","title":"Wann wird welche IPv6-Adresse verwendet?","text":""},{"location":"Knowledgebase/1_Technologien/Grundlegend/IPv6/#wichtige-befehle-zur-ipv6-konfiguration","title":"Wichtige Befehle zur IPv6-Konfiguration","text":""},{"location":"Knowledgebase/2_Aufgaben/1_Semester/24_10/","title":"10","text":"<pre><code>02.10.24\n</code></pre> <ul> <li>Begr\u00fc\u00dfung</li> <li>F\u00fchrung durch das Firmengeb\u00e4ude</li> <li>\u00dcbergabe Schlie\u00dfbutton, Diensthandy, Technik</li> <li>Einrichtung Arbeitsplatz</li> <li>Intranet kennenlernen  </li> </ul> <pre><code>03.10.24\n</code></pre> <ul> <li>Dienstanweisungen lesen</li> <li>Landingpage abarbeiten</li> <li>Diensthandy eingerichtet</li> </ul> <pre><code>04.10.24\n</code></pre> <ul> <li>Einweisung in die IT-Umgebung (Outlook, Projektordner, Confluence)</li> <li>Erstellung eines Konzeptes von IT-Consultant verfolgt</li> </ul> <pre><code>07.10.24\n</code></pre> <ul> <li>Pi konfigurieren</li> <li>Teammeeting</li> <li>Fachbereich Marketing kennengelernt</li> <li>per SSH zugreifen</li> <li>Thema DNS und DHCP ausarbeiten</li> </ul> <pre><code>08.10.24\n</code></pre> <ul> <li>Einweisung ins Intranet</li> <li>Begr\u00fc\u00dfung durch Gesch\u00e4ftsf\u00fchrer</li> <li>Pi-Hole auf dem Pi installiert</li> <li>Pi zum AP gemacht</li> <li>Pi-Hole mit Diensthandy \u00fcber Pi-Hotspot getestet</li> </ul> <pre><code>09.10.24\n</code></pre> <ul> <li>versucht Youtube-Werbung zu blocken</li> <li>Warum wird es in der YT-App nicht geblockt</li> <li>Arbeitsschutz/Brandschutz/FlexAP-Einweisung online gemacht</li> <li>Grundlagen Cisco Switche/Router</li> </ul> <pre><code>10.10.24\n</code></pre> <ul> <li>Fachbereich Professional Service Organisation und Einweisung ins Ticketsystem (STS)</li> <li>Grundlagen Cisco Switche/Router</li> <li>Pi mit Debian </li> <li>im Lab erreichbar machen</li> <li>Grafische Benutzeroberfl\u00e4che installieren</li> <li>[ ] RDP oder Apache Guacamole einrichten</li> </ul> <pre><code>11.10.24\n</code></pre> <ul> <li>CCNA Dokumente weiter durchgearbeitet</li> <li>Switch-Konfigurationen vorgenommen --&gt; praktische Umsetzung der CCNA-Theorie</li> <li>Einweisung ins SHD-Lab</li> <li>Kennenlernen des Organisationsbereiches Professionell Service Organisation </li> </ul> <pre><code>14.10.24\n</code></pre> <ul> <li>Teammeeting</li> <li>Kennenlernen Team Digitale Transformation</li> <li>Aufgaben/Theoriequellen zu Ansible bekommen</li> <li>Team-Ost Knowledgebase in Obsidian eingebunden</li> <li>Debian-VM erstellt</li> </ul> <pre><code>15.10.24\n</code></pre> <ul> <li>Ansible-Tutorial mit gemacht Tutorial hier<ul> <li>Umgebung erstellt (4 VMs)</li> <li>SSH Keys erstellt</li> <li>Git-Repository eigebunden</li> <li>Ansible installiert</li> <li>Ansible Ad-Hoc-Befehle mit vorhandenen Modulen ausprobiert<ul> <li>ping</li> <li>apt</li> <li>gather_facts</li> </ul> </li> </ul> </li> </ul> <pre><code>16.10.24\n</code></pre> <ul> <li>CGNAT, DNSSEC und ein DynDNS-Beispiel recherchiert</li> <li>Tutorial zu Ansible nachvollzogen</li> <li>vorherige Aufgaben mit Mentor verglichen</li> <li>am StandUp-Meeting teilgenommen</li> <li>cisco netacd account angelegt </li> <li>jumphost</li> <li>mst cisco</li> </ul> <pre><code>17.10.24\n</code></pre> <ul> <li>Tutorial zu Ansible nachvollzogen<ul> <li>Dateien mit Ansible managen</li> <li>Dienste mit Ansible managen</li> <li>Variablen und Handler</li> <li>Templates</li> <li>Rollen</li> <li>Nutzer hinzuf\u00fcgen und Bootstrapping</li> </ul> </li> <li>angefangen Ansible Semaphore zu installieren</li> </ul> <pre><code>18.10.24\n</code></pre> <ul> <li>Ansible Semaphore eingerichtet</li> <li>Jumphost erstellt</li> <li>versucht Ansible Forms zu installieren (hat nicht funktioniert)</li> <li>330-Lab kennengelernt</li> </ul> <pre><code>21.10.24\n</code></pre> <ul> <li>VM f\u00fcr Semaphore erneut erstellt, OpenSSH &amp; Keepass installiert</li> <li>Kennlerntermin SOC</li> <li>Teammeeting</li> <li>Recherche zu Ansible (Vault, Galaxy, Doc)</li> </ul> <pre><code>22.10.24\n</code></pre> <ul> <li>Semaphore-Server neu aufgesetzt</li> <li>SSH-Keys erstellt f\u00fcr Kommunikation</li> <li>KeePassXC installiert und f\u00fcr Keys genutzt</li> <li>Semaphore mit GitLab-Repository verbunden</li> <li>versucht Switch \u00fcber serielle Schnittstelle zu konfigurieren (mit pyserial, GitHub-Plugin, pexpect)</li> </ul> <pre><code>23.10.24\n</code></pre> <ul> <li>Python-Skript f\u00fcr pexpect-Verbindung zu Switch erstellt</li> <li>versucht Switch \u00fcber serielle Schnittstelle zu konfigurieren (mit pyserial, GitHub-Plugin, pexpect)</li> <li>Fehlersuche</li> </ul> <pre><code>24.10.24\n</code></pre> <ul> <li>Serial-Port-Unix mit Cisco Modul ausprobiert</li> <li>Python Skript mit match-case f\u00fcr Fehlerbehandlung</li> <li>Python-Skript zur automatischen SSH-Konfiguration eines Switch</li> </ul> <pre><code>25.10.24\n</code></pre>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/24_10/#-ansible-playbook-mit-labtermlabshd-onlinede-konsolenswitch-pi","title":"-  Ansible Playbook mit labterm.lab.shd-online.de (Konsolenswitch-Pi)","text":"<pre><code>28.10.24\n</code></pre> <ul> <li>Teammeeting</li> <li>Passwort-Datenbank angelegt</li> <li>SSH-Kommunikation zu KonsolenSwitch-Pi</li> <li>Ansible-Ordnerstruktur so angepasst, dass alle 12 Switche (am Konsolenswitch angeschlossen) die Grundkonfiguration erhalten k\u00f6nnten</li> </ul> <pre><code>29.10.24\n</code></pre> <ul> <li>Einweisung ISO 9001</li> <li>versucht konfigurierten Switch \u00fcber IP-Adresse im Lab zu erreichen</li> <li>Fehlersuche Konfiguration Switch mittels ansible</li> </ul> <pre><code>30.10.24\n</code></pre>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/24_10/#-fehlersuche-konfiguration-switch-mittels-ansible","title":"-  Fehlersuche Konfiguration Switch mittels ansible","text":"<pre><code>31.10.24\n</code></pre> <p>--&gt; Feiertag</p>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/24_11/","title":"11","text":"<pre><code>01.11.24\n</code></pre> <ul> <li>Fehler gefunden --&gt; wurde ganze Zeit lokal ausgef\u00fchrt --&gt; in inventory ansible_connection=ssh</li> <li>Fehlersuche Erreichbarkeit Switch \u00fcber IP -&gt; StagingRack-Switch hatte RVSTP nicht aktiviert -&gt; dadurch wurden Pakete geblockt</li> <li>Konfiguration Switch \u00fcber IP und SSH -&gt; erweiterte Konfiguration mittels Ansible</li> <li>ausgeben einer running-config und laden dieser auf einen anderen Switch</li> <li>informiert \u00fcber Konfiguration von HP-Switches mittels Ansible</li> </ul> <pre><code>04.11.24\n</code></pre> <ul> <li>Teammeeting</li> <li>Einbau NetApp Storage beim SMF</li> </ul> <pre><code>05.10.24\n</code></pre> <ul> <li>grundconfig.py-Datei so umgeschrieben, dass IP-Adresse, Hostname und Path zum Port in Variablen geschrieben wird und somit nur noch eine Datei ben\u00f6tigt wird anstatt 12 Dateien</li> <li>Redundanzen in hosts.yml entfernt</li> <li>relative Pfade gesetzt</li> <li>Onboarding-Gespr\u00e4ch (Auswertung)</li> </ul> <pre><code>06.11.24\n</code></pre> <ul> <li>Ansible Projekt weiter optimiert -&gt; Ordnerstruktur angepasst</li> <li>\u00dcbergabe der Daten an Python-Skript angepasst</li> <li>kleine Bugfixes</li> <li>eigene Doku zu Ansible weitergeschrieben</li> </ul> <pre><code>07.11.24\n</code></pre> <ul> <li>eigene Ansible-Doku aufbereitet</li> <li>Einf\u00fchrung in Switch Testaufbau</li> <li>Switch-Technik ausgepackt und zusammengebaut</li> </ul> <pre><code>08.10.24\n</code></pre> <ul> <li>Technik weiterausgepackt + zusammengebaut</li> <li>Switch ins Rack gebaut und nach Plan verkabelt + beschriftet</li> </ul> <pre><code>Uni\n</code></pre>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/24_12/","title":"12","text":"<pre><code>Uni\n</code></pre> <p>Wera Werkzeug</p>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/25_01/","title":"01","text":"<pre><code>Uni\n</code></pre> <p>Wera Werkzeug</p>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/25_02/","title":"02","text":"<pre><code>-&gt; Uni\n\n17.02.2025\n</code></pre> <ul> <li>CCNA - Basic Network gemacht</li> <li>Praxisarbeit FNA mit bewertet</li> </ul> <pre><code>18.02.2025\n</code></pre>"},{"location":"Knowledgebase/2_Aufgaben/1_Semester/25_02/#-ccna-networking-basics","title":"- CCNA - Networking Basics","text":"<pre><code>19.02.2025\n</code></pre> <ul> <li>Networking Devices and Initial Configuration</li> <li>Network Technician Career Path</li> </ul> <pre><code>20.02.2025\n</code></pre> <ul> <li>CCNA: Switching, Routing, and Wireless Essentials (SRWE) Supplemental Module</li> <li>Fortigate Upgrade/FactoryReset/Backup File nach FactoryReset/ HA-Konfiguration</li> </ul> <pre><code>21.02.2025\n</code></pre> <ul> <li>Fortigate Upgrade</li> <li>netacad: Network Addressing and Basic Troubleshooting</li> </ul> <pre><code>24.02.2025\n</code></pre> <ul> <li>Partnerevent mit Fortigate in Berlin</li> <li>Aufgabe zu Sophos-Umtausch beim Kunden erhalten</li> </ul> <pre><code>25.02.2025\n</code></pre> <ul> <li>netacad: Network Support and Security</li> <li>Recherche zu Sophos-Umtausch</li> </ul>"},{"location":"Knowledgebase/4_Test/Test/","title":"Test","text":"<ol> <li>Test</li> <li>Test</li> <li>Test</li> </ol>"},{"location":"Knowledgebase/4_Test/Test/#test","title":"Test","text":""},{"location":"Knowledgebase/4_Test/Test/#test_1","title":"Test","text":""},{"location":"Knowledgebase/4_Test/Test/#test_2","title":"Test","text":""},{"location":"Knowledgebase/4_Test/Test/#test_3","title":"Test","text":"<p>I really like using Markdown</p> <ul> <li>Test</li> <li>Test</li> </ul> <p>I really like using Markdown</p> <pre><code>Teststetstetstest\n</code></pre> <p>I really like using Markdown</p> <p>I really like using Markdown</p> <p>I really like using Markdown I really like using Markdown</p> <p>I really like using Markdown</p> Spalte 1 Spalte 2 sdfds <p>$$x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}$$</p> <p>![[tux.avif]]</p> <p>At the command prompt, type <code>nano</code>.</p> <p>Hier geht es zur Markdown Syntax-Beschreibung</p> <p>maik.kaeseberg@shd-online.de</p> <p>I love supporting the EFF. This is the Markdown Guide. See the section on <code>code</code>.</p> <p></p> <p>![[giphy.gif]]</p> <p>Im Flie\u00dftext [^1] k\u00f6nnen Sie ganz einfach Fu\u00dfnoten [^2] unterbringen. [^1]: Hier finden Sie den Text zu der Fu\u00dfnote. [^2]: Fu\u00dfnoten selbst k\u00f6nnen auch formatiert werden. Und diese umfassen sogar mehrere Zeilen.</p>"},{"location":"Knowledgebase/4_Test/Test/#the-quarterly-results-look-great","title":"The quarterly results look great!","text":"<ul> <li>Revenue was off the chart.</li> <li>Profits were higher than ever.</li> </ul> <p>Everything is going according to plan.</p>"},{"location":"Knowledgebase/5_Belegarbeit/Notizen_Belegarbeit/","title":"Notizen_Belegarbeit","text":"<ul> <li>wissenschaftliche Quellen nutzen (mit Verweisen/Referenzen)</li> <li>Experteninterview als Option betrachten (qualitative Forschungsmethode)</li> <li>gleiche Schriftart verwenden (einheitlich)</li> <li>Bildquellen in die Bezeichnung? Querverweis reicht auch</li> <li>Quellen nach BA-Leitfaden</li> <li>Inhalt statt Inhaltsverzeichnis nach ISO 5008</li> <li>Abk\u00fcrzungen immer beim ersten Mal ausschreiben und dann in Klammern dahinter + ins Abk\u00fcrzungsverzeichnis</li> <li>Ergebnisse/Fazit: Was sollte laut Einleitung aufgezeigt werden? -&gt; Bogen schlagen</li> <li>bei technischen Unsicherheiten immer fragen</li> <li>hinter jeden Textabschnitt die Quelle oder ebenda (ebd.)</li> </ul>"}]}